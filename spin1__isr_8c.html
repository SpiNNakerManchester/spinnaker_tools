<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>spinnaker_tools: spin1_api/spin1_isr.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">spinnaker_tools
   &#160;<span id="projectnumber">3.4.0</span>
   </div>
   <div id="projectbrief">SpiNNaker API, sark, sc&amp;mp, bmp firmware and build tools</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8b06ade2a9de6b91f2fbff0e76f1c373.html">spin1_api</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">spin1_isr.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interrupt handlers for Spin1API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="sark_8h_source.html">sark.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="spin1__api_8h_source.html">spin1_api.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="spin1__api__params_8h_source.html">spin1_api_params.h</a>&gt;</code><br />
<code>#include &lt;scamp_spin1_sync.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af15196e8b2360105ec0c061cbe9214d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#af15196e8b2360105ec0c061cbe9214d2">schedule</a> (<a class="el" href="spinnaker_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> event_id, <a class="el" href="spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> arg0, <a class="el" href="spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> arg1)</td></tr>
<tr class="memdesc:af15196e8b2360105ec0c061cbe9214d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for <a class="el" href="spin1__api_8c.html#aae2f320075d9cf52b46f9475ec0b16cc" title="Schedule a callback (called with interrupts disabled)">schedule_sysmode()</a> that handles interrupts.  <a href="spin1__isr_8c.html#af15196e8b2360105ec0c061cbe9214d2">More...</a><br /></td></tr>
<tr class="separator:af15196e8b2360105ec0c061cbe9214d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad757a2bf64a4fd5e3447e411aa48b216"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#ad757a2bf64a4fd5e3447e411aa48b216">cc_rx_ready_isr</a> (void)</td></tr>
<tr class="memdesc:ad757a2bf64a4fd5e3447e411aa48b216"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles an incoming multicast packet.  <a href="spin1__isr_8c.html#ad757a2bf64a4fd5e3447e411aa48b216">More...</a><br /></td></tr>
<tr class="separator:ad757a2bf64a4fd5e3447e411aa48b216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a195457f55458da4c3a67af55247dc9bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a195457f55458da4c3a67af55247dc9bd">cc_rx_ready_fiqsr</a> (void)</td></tr>
<tr class="memdesc:a195457f55458da4c3a67af55247dc9bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles an incoming multicast packet. (FIQ)  <a href="spin1__isr_8c.html#a195457f55458da4c3a67af55247dc9bd">More...</a><br /></td></tr>
<tr class="separator:a195457f55458da4c3a67af55247dc9bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686b53075ec48e10b26606dc542950fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a686b53075ec48e10b26606dc542950fe">cc_fr_ready_isr</a> (void)</td></tr>
<tr class="memdesc:a686b53075ec48e10b26606dc542950fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles an incoming fixed-route packet.  <a href="spin1__isr_8c.html#a686b53075ec48e10b26606dc542950fe">More...</a><br /></td></tr>
<tr class="separator:a686b53075ec48e10b26606dc542950fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6161acd4b7a87336319e81e2bb1b7a43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a6161acd4b7a87336319e81e2bb1b7a43">cc_fr_ready_fiqsr</a> (void)</td></tr>
<tr class="memdesc:a6161acd4b7a87336319e81e2bb1b7a43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles an incoming fixed-route packet. (FIQ)  <a href="spin1__isr_8c.html#a6161acd4b7a87336319e81e2bb1b7a43">More...</a><br /></td></tr>
<tr class="separator:a6161acd4b7a87336319e81e2bb1b7a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6877e25434245843f2cb2e44dcacd5f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a6877e25434245843f2cb2e44dcacd5f6">cc_rx_error_isr</a> (void)</td></tr>
<tr class="memdesc:a6877e25434245843f2cb2e44dcacd5f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears errors from the communications controller.  <a href="spin1__isr_8c.html#a6877e25434245843f2cb2e44dcacd5f6">More...</a><br /></td></tr>
<tr class="separator:a6877e25434245843f2cb2e44dcacd5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816edb7651e2d7fa4efd136d76f5366b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a816edb7651e2d7fa4efd136d76f5366b">cc_tx_empty_isr</a> (void)</td></tr>
<tr class="memdesc:a816edb7651e2d7fa4efd136d76f5366b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Comms controller ready to send interrupt handler.  <a href="spin1__isr_8c.html#a816edb7651e2d7fa4efd136d76f5366b">More...</a><br /></td></tr>
<tr class="separator:a816edb7651e2d7fa4efd136d76f5366b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31319328fd117385db84701404e49c1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a31319328fd117385db84701404e49c1a">dma_done_isr</a> (void)</td></tr>
<tr class="memdesc:a31319328fd117385db84701404e49c1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">DMA complete interrupt handler.  <a href="spin1__isr_8c.html#a31319328fd117385db84701404e49c1a">More...</a><br /></td></tr>
<tr class="separator:a31319328fd117385db84701404e49c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7efa652aed5c2b4b7ed8b27d7c8402d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a7efa652aed5c2b4b7ed8b27d7c8402d4">dma_done_fiqsr</a> (void)</td></tr>
<tr class="memdesc:a7efa652aed5c2b4b7ed8b27d7c8402d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">DMA complete interrupt handler. (FIQ)  <a href="spin1__isr_8c.html#a7efa652aed5c2b4b7ed8b27d7c8402d4">More...</a><br /></td></tr>
<tr class="separator:a7efa652aed5c2b4b7ed8b27d7c8402d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc3483511d850f58646a46735ca08ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#adcc3483511d850f58646a46735ca08ca">dma_error_isr</a> (void)</td></tr>
<tr class="memdesc:adcc3483511d850f58646a46735ca08ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">DMA error interrupt handler.  <a href="spin1__isr_8c.html#adcc3483511d850f58646a46735ca08ca">More...</a><br /></td></tr>
<tr class="separator:adcc3483511d850f58646a46735ca08ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bac9245b75e3987854ed1a33d36fb6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a0bac9245b75e3987854ed1a33d36fb6b">timer1_isr</a> (void)</td></tr>
<tr class="memdesc:a0bac9245b75e3987854ed1a33d36fb6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer 1 interrupt handler.  <a href="spin1__isr_8c.html#a0bac9245b75e3987854ed1a33d36fb6b">More...</a><br /></td></tr>
<tr class="separator:a0bac9245b75e3987854ed1a33d36fb6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fa32666819594f3e10df1eb002c08b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a3fa32666819594f3e10df1eb002c08b9">timer1_fiqsr</a> (void)</td></tr>
<tr class="memdesc:a3fa32666819594f3e10df1eb002c08b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer 1 interrupt handler. (FIQ)  <a href="spin1__isr_8c.html#a3fa32666819594f3e10df1eb002c08b9">More...</a><br /></td></tr>
<tr class="separator:a3fa32666819594f3e10df1eb002c08b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197765e2b4cd5998b2b4431875a3e688"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a197765e2b4cd5998b2b4431875a3e688">soft_int_isr</a> (void)</td></tr>
<tr class="memdesc:a197765e2b4cd5998b2b4431875a3e688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Software-initiated interrupt handler.  <a href="spin1__isr_8c.html#a197765e2b4cd5998b2b4431875a3e688">More...</a><br /></td></tr>
<tr class="separator:a197765e2b4cd5998b2b4431875a3e688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21f0792ebbd3e885094356b9277e209b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a21f0792ebbd3e885094356b9277e209b">soft_int_fiqsr</a> (void)</td></tr>
<tr class="memdesc:a21f0792ebbd3e885094356b9277e209b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Software-initiated interrupt handler. (FIQ)  <a href="spin1__isr_8c.html#a21f0792ebbd3e885094356b9277e209b">More...</a><br /></td></tr>
<tr class="separator:a21f0792ebbd3e885094356b9277e209b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa0e813429ee1a894ff9cf76c8b7e7fb7"><td class="memItemLeft" align="right" valign="top"><a id="aa0e813429ee1a894ff9cf76c8b7e7fb7"></a>
<a class="el" href="spinnaker_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>&#160;</td><td class="memItemRight" valign="bottom"><b>user_pending</b></td></tr>
<tr class="separator:aa0e813429ee1a894ff9cf76c8b7e7fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20c15fa74cf3e5401f0653c5134fd7aa"><td class="memItemLeft" align="right" valign="top"><a id="a20c15fa74cf3e5401f0653c5134fd7aa"></a>
<a class="el" href="spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><b>user_arg0</b></td></tr>
<tr class="separator:a20c15fa74cf3e5401f0653c5134fd7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c4e22c39568be48f141f60eee2541f1"><td class="memItemLeft" align="right" valign="top"><a id="a9c4e22c39568be48f141f60eee2541f1"></a>
<a class="el" href="spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><b>user_arg1</b></td></tr>
<tr class="separator:a9c4e22c39568be48f141f60eee2541f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fcd6915876e066781399d7b00f1b1f0"><td class="memItemLeft" align="right" valign="top"><a id="a7fcd6915876e066781399d7b00f1b1f0"></a>
<a class="el" href="spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a7fcd6915876e066781399d7b00f1b1f0">ticks</a></td></tr>
<tr class="memdesc:a7fcd6915876e066781399d7b00f1b1f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of elapsed timer periods <br /></td></tr>
<tr class="separator:a7fcd6915876e066781399d7b00f1b1f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a961a184576a286ec2b70ebb01bcaddd1"><td class="memItemLeft" align="right" valign="top"><a id="a961a184576a286ec2b70ebb01bcaddd1"></a>
<a class="el" href="spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a961a184576a286ec2b70ebb01bcaddd1">timer_tick</a></td></tr>
<tr class="memdesc:a961a184576a286ec2b70ebb01bcaddd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">timer tick period <br /></td></tr>
<tr class="separator:a961a184576a286ec2b70ebb01bcaddd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4511313ccb7768c200e73b3ff63a5d28"><td class="memItemLeft" align="right" valign="top"><a id="a4511313ccb7768c200e73b3ff63a5d28"></a>
<a class="el" href="spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a4511313ccb7768c200e73b3ff63a5d28">timer_tick_clocks</a></td></tr>
<tr class="memdesc:a4511313ccb7768c200e73b3ff63a5d28"><td class="mdescLeft">&#160;</td><td class="mdescRight">timer tick period in clock cycles <br /></td></tr>
<tr class="separator:a4511313ccb7768c200e73b3ff63a5d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3539afc91ff4e1a2bb2ea3ee49ab9a32"><td class="memItemLeft" align="right" valign="top"><a id="a3539afc91ff4e1a2bb2ea3ee49ab9a32"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a3539afc91ff4e1a2bb2ea3ee49ab9a32">drift</a></td></tr>
<tr class="memdesc:a3539afc91ff4e1a2bb2ea3ee49ab9a32"><td class="mdescLeft">&#160;</td><td class="mdescRight">drift in clock cycles per timer tick <br /></td></tr>
<tr class="separator:a3539afc91ff4e1a2bb2ea3ee49ab9a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98afce4d956b1340857dc4677531a7c7"><td class="memItemLeft" align="right" valign="top"><a id="a98afce4d956b1340857dc4677531a7c7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a98afce4d956b1340857dc4677531a7c7">drift_accum</a></td></tr>
<tr class="memdesc:a98afce4d956b1340857dc4677531a7c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">accumulation of drifts <br /></td></tr>
<tr class="separator:a98afce4d956b1340857dc4677531a7c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ac308ec0c5c2302af6ef1d1c676405"><td class="memItemLeft" align="right" valign="top"><a id="ae2ac308ec0c5c2302af6ef1d1c676405"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#ae2ac308ec0c5c2302af6ef1d1c676405">drift_sign</a></td></tr>
<tr class="memdesc:ae2ac308ec0c5c2302af6ef1d1c676405"><td class="mdescLeft">&#160;</td><td class="mdescRight">sign of the drift <br /></td></tr>
<tr class="separator:ae2ac308ec0c5c2302af6ef1d1c676405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59613dc66e7507a614fcc590ad961e5c"><td class="memItemLeft" align="right" valign="top"><a id="a59613dc66e7507a614fcc590ad961e5c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a59613dc66e7507a614fcc590ad961e5c">time_to_next_drift_update</a></td></tr>
<tr class="memdesc:a59613dc66e7507a614fcc590ad961e5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">timer ticks until drift needs to be updated <br /></td></tr>
<tr class="separator:a59613dc66e7507a614fcc590ad961e5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f96945e579863d7fdc4c2110dc84555"><td class="memItemLeft" align="right" valign="top"><a id="a3f96945e579863d7fdc4c2110dc84555"></a>
<a class="el" href="spin1__api__params_8h.html#structdma__queue__t">dma_queue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a3f96945e579863d7fdc4c2110dc84555">dma_queue</a></td></tr>
<tr class="memdesc:a3f96945e579863d7fdc4c2110dc84555"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pending DMA transfers. <br /></td></tr>
<tr class="separator:a3f96945e579863d7fdc4c2110dc84555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96272f006bd3244775dff6460497116e"><td class="memItemLeft" align="right" valign="top"><a id="a96272f006bd3244775dff6460497116e"></a>
<a class="el" href="spin1__api__params_8h.html#structtx__packet__queue__t">tx_packet_queue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#a96272f006bd3244775dff6460497116e">tx_packet_queue</a></td></tr>
<tr class="memdesc:a96272f006bd3244775dff6460497116e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pending SpiNNaker packets to transmit. <br /></td></tr>
<tr class="separator:a96272f006bd3244775dff6460497116e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea998e12bd7efbe8dfd02d4463e1748f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="spin1__api__params_8h.html#structuser__event__queue__t">user_event_queue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spin1__isr_8c.html#aea998e12bd7efbe8dfd02d4463e1748f">user_event_queue</a></td></tr>
<tr class="memdesc:aea998e12bd7efbe8dfd02d4463e1748f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pending user event callbacks to call.  <a href="spin1__isr_8c.html#aea998e12bd7efbe8dfd02d4463e1748f">More...</a><br /></td></tr>
<tr class="separator:aea998e12bd7efbe8dfd02d4463e1748f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interrupt handlers for Spin1API. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af15196e8b2360105ec0c061cbe9214d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af15196e8b2360105ec0c061cbe9214d2">&#9670;&nbsp;</a></span>schedule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spinnaker_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>&#160;</td>
          <td class="paramname"><em>event_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>arg0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>arg1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper for <a class="el" href="spin1__api_8c.html#aae2f320075d9cf52b46f9475ec0b16cc" title="Schedule a callback (called with interrupts disabled)">schedule_sysmode()</a> that handles interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event_id</td><td>ID of the event triggering a callback </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg0</td><td>argument to be passed to the callback </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg1</td><td>argument to be passed to the callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad757a2bf64a4fd5e3447e411aa48b216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad757a2bf64a4fd5e3447e411aa48b216">&#9670;&nbsp;</a></span>cc_rx_ready_isr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc_rx_ready_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles an incoming multicast packet. </p>
<p>This interrupt service routine is called in response to receipt of a packet from the router. Chips are configured such that fascicle processors receive only multicast neural event packets. In response to receipt of a MC packet a callback is scheduled to process the corresponding routing key and data.</p>
<p>Checking for parity and framing errors is not performed. The VIC is configured so that the interrupts raised by erroneous packets prompt execution of <a class="el" href="spin1__isr_8c.html#a6877e25434245843f2cb2e44dcacd5f6" title="Clears errors from the communications controller.">cc_rx_error_isr()</a> which clears them. </p>

</div>
</div>
<a id="a195457f55458da4c3a67af55247dc9bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a195457f55458da4c3a67af55247dc9bd">&#9670;&nbsp;</a></span>cc_rx_ready_fiqsr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc_rx_ready_fiqsr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles an incoming multicast packet. (FIQ) </p>
<p>This interrupt service routine is called in response to receipt of a packet from the router. Chips are configured such that fascicle processors receive only multicast neural event packets. In response to receipt of a MC packet a callback is scheduled to process the corresponding routing key and data.</p>
<p>Checking for parity and framing errors is not performed. The VIC is configured so that the interrupts raised by erroneous packets prompt execution of <a class="el" href="spin1__isr_8c.html#a6877e25434245843f2cb2e44dcacd5f6" title="Clears errors from the communications controller.">cc_rx_error_isr()</a> which clears them. </p>

</div>
</div>
<a id="a686b53075ec48e10b26606dc542950fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a686b53075ec48e10b26606dc542950fe">&#9670;&nbsp;</a></span>cc_fr_ready_isr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc_fr_ready_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles an incoming fixed-route packet. </p>
<p>This interrupt service routine is called in response to receipt of a packet from the router. Chips are configured such that fascicle processors receive only multicast neural event packets. In response to receipt of a MC packet a callback is scheduled to process the corresponding routing key and data.</p>
<p>Checking for parity and framing errors is not performed. The VIC is configured so that the interrupts raised by erroneous packets prompt execution of <a class="el" href="spin1__isr_8c.html#a6877e25434245843f2cb2e44dcacd5f6" title="Clears errors from the communications controller.">cc_rx_error_isr()</a> which clears them. </p>

</div>
</div>
<a id="a6161acd4b7a87336319e81e2bb1b7a43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6161acd4b7a87336319e81e2bb1b7a43">&#9670;&nbsp;</a></span>cc_fr_ready_fiqsr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc_fr_ready_fiqsr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles an incoming fixed-route packet. (FIQ) </p>
<p>This interrupt service routine is called in response to receipt of a packet from the router. Chips are configured such that fascicle processors receive only multicast neural event packets. In response to receipt of a MC packet a callback is scheduled to process the corresponding routing key and data.</p>
<p>Checking for parity and framing errors is not performed. The VIC is configured so that the interrupts raised by erroneous packets prompt execution of <a class="el" href="spin1__isr_8c.html#a6877e25434245843f2cb2e44dcacd5f6" title="Clears errors from the communications controller.">cc_rx_error_isr()</a> which clears them. </p>

</div>
</div>
<a id="a6877e25434245843f2cb2e44dcacd5f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6877e25434245843f2cb2e44dcacd5f6">&#9670;&nbsp;</a></span>cc_rx_error_isr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc_rx_error_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears errors from the communications controller. </p>
<p>This interrupt service routine is called in response to receipt of a packet from the router with either parity or framing errors. The routine simply clears the error and disposes of the packet. The monitor processor may observe packet errors by reading from the router diagnostic registers. </p>

</div>
</div>
<a id="a816edb7651e2d7fa4efd136d76f5366b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a816edb7651e2d7fa4efd136d76f5366b">&#9670;&nbsp;</a></span>cc_tx_empty_isr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc_tx_empty_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Comms controller ready to send interrupt handler. </p>
<p>This interrupt service function is called when the comms controller transmit buffer is empty. The function dequeues packets queued for transmission by <a class="el" href="spin1__api_8h.html#acbf64a46f7c0a05a249d4a8c792ec53d" title="This function enqueues a request to send a multicast packet.">spin1_send_mc_packet()</a> function and writes them to the comms controller hardware, until either the packet queue is empty or the comms controller is full.</p>
<p>This interrupt is only enabled when there is at least one message to send in the transmit queue. </p>

</div>
</div>
<a id="a31319328fd117385db84701404e49c1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31319328fd117385db84701404e49c1a">&#9670;&nbsp;</a></span>dma_done_isr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dma_done_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DMA complete interrupt handler. </p>
<p>This interrupt service routine is called upon completion of a DMA transfer. A user callback is scheduled (with two parameters, the ID of the completed transfer and the user-provided transfer tag) and the next DMA transfer request is dequeued and fulfilled. The completion and subsequent scheduling of transfers must be atomic (as they are in this uninterruptable ISR) otherwise transfer requests may not be completed in the order they were made. </p>

</div>
</div>
<a id="a7efa652aed5c2b4b7ed8b27d7c8402d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7efa652aed5c2b4b7ed8b27d7c8402d4">&#9670;&nbsp;</a></span>dma_done_fiqsr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dma_done_fiqsr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DMA complete interrupt handler. (FIQ) </p>
<p>This interrupt service routine is called upon completion of a DMA transfer. A user callback is scheduled (with two parameters, the ID of the completed transfer and &lsquo;1&rsquo; indicating transfer success) and the next DMA transfer request is dequeued and fulfilled. The completion and subsequent scheduling of transfers must be atomic (as they are in this uninterruptable ISR) otherwise transfer requests may not be completed in the order they were made. </p>

</div>
</div>
<a id="adcc3483511d850f58646a46735ca08ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcc3483511d850f58646a46735ca08ca">&#9670;&nbsp;</a></span>dma_error_isr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dma_error_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DMA error interrupt handler. </p>
<p>This interrupt service function is called when a DMA transfer error arises. Currently, such an event causes termination of the simulation. </p>

</div>
</div>
<a id="a0bac9245b75e3987854ed1a33d36fb6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bac9245b75e3987854ed1a33d36fb6b">&#9670;&nbsp;</a></span>timer1_isr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer1_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer 1 interrupt handler. </p>
<p>This interrupt service routine is called upon countdown of the processor's primary timer to zero. In response, a callback is scheduled. </p>

</div>
</div>
<a id="a3fa32666819594f3e10df1eb002c08b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fa32666819594f3e10df1eb002c08b9">&#9670;&nbsp;</a></span>timer1_fiqsr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer1_fiqsr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer 1 interrupt handler. (FIQ) </p>
<p>This interrupt service routine is called upon countdown of the processor's primary timer to zero. In response, a callback is scheduled. </p>

</div>
</div>
<a id="a197765e2b4cd5998b2b4431875a3e688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a197765e2b4cd5998b2b4431875a3e688">&#9670;&nbsp;</a></span>soft_int_isr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void soft_int_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Software-initiated interrupt handler. </p>
<p>This interrupt service routine is called upon receipt of software controller interrupt, triggered by a "USER EVENT". </p>

</div>
</div>
<a id="a21f0792ebbd3e885094356b9277e209b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21f0792ebbd3e885094356b9277e209b">&#9670;&nbsp;</a></span>soft_int_fiqsr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void soft_int_fiqsr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Software-initiated interrupt handler. (FIQ) </p>
<p>This interrupt service routine is called upon receipt of software controller interrupt, triggered by a "USER EVENT". </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aea998e12bd7efbe8dfd02d4463e1748f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea998e12bd7efbe8dfd02d4463e1748f">&#9670;&nbsp;</a></span>user_event_queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="spin1__api__params_8h.html#structuser__event__queue__t">user_event_queue_t</a> user_event_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pending user event callbacks to call. </p>
<p>Registered by <a class="el" href="spin1__api_8c.html#a19505c72d4618b8c00646d4dff1a328f" title="This function triggers a USER EVENT, i.e., a software interrupt.">spin1_trigger_user_event()</a> </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 16 2021 07:58:45 for spinnaker_tools by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>

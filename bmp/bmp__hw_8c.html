<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>spinnaker_tools (BMP): bmp_hw.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">spinnaker_tools (BMP)<span id="projectnumber">&#160;3.4.0</span>
   </div>
   <div id="projectbrief">SpiNNaker BMP firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">bmp_hw.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Low-level hardware interface code for BMP LPC1768.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;lpc17xx.h&quot;</code><br />
<code>#include &quot;lpc17xx_pinsel.h&quot;</code><br />
<code>#include &quot;lpc17xx_clkpwr.h&quot;</code><br />
<code>#include &quot;<a class="el" href="bmp_8h_source.html">bmp.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a50b3df424e20ff7e7c0c850eacfae13f"><td class="memItemLeft" align="right" valign="top"><a id="a50b3df424e20ff7e7c0c850eacfae13f" name="a50b3df424e20ff7e7c0c850eacfae13f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_PCLK</b>&#160;&#160;&#160;25000000</td></tr>
<tr class="memdesc:a50b3df424e20ff7e7c0c850eacfae13f"><td class="mdescLeft">&#160;</td><td class="mdescRight">25 MHz <br /></td></tr>
<tr class="separator:a50b3df424e20ff7e7c0c850eacfae13f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d38ab4d4e88e679184bbbffdac00dd"><td class="memItemLeft" align="right" valign="top"><a id="a44d38ab4d4e88e679184bbbffdac00dd" name="a44d38ab4d4e88e679184bbbffdac00dd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_CLK</b>&#160;&#160;&#160;13000000</td></tr>
<tr class="memdesc:a44d38ab4d4e88e679184bbbffdac00dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">13 MHz <br /></td></tr>
<tr class="separator:a44d38ab4d4e88e679184bbbffdac00dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe6273923e3d3d4c625cf637dfe2416"><td class="memItemLeft" align="right" valign="top"><a id="a2fe6273923e3d3d4c625cf637dfe2416" name="a2fe6273923e3d3d4c625cf637dfe2416"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_PDN</b>&#160;&#160;&#160;(1 &lt;&lt; 21)</td></tr>
<tr class="separator:a2fe6273923e3d3d4c625cf637dfe2416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4e83fac5a8e2ac5cd9394eb4c9542f"><td class="memItemLeft" align="right" valign="top"><a id="acf4e83fac5a8e2ac5cd9394eb4c9542f" name="acf4e83fac5a8e2ac5cd9394eb4c9542f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_VALID</b>&#160;&#160;&#160;0xde</td></tr>
<tr class="memdesc:acf4e83fac5a8e2ac5cd9394eb4c9542f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channels 0, 5 not used on Spin5. <br /></td></tr>
<tr class="separator:acf4e83fac5a8e2ac5cd9394eb4c9542f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4cd592df9f4681f1fb8c2de7bccd4c2"><td class="memItemLeft" align="right" valign="top"><a id="ac4cd592df9f4681f1fb8c2de7bccd4c2" name="ac4cd592df9f4681f1fb8c2de7bccd4c2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SYSRAM_IP_DATA</b>&#160;&#160;&#160;0xf5007fe0</td></tr>
<tr class="memdesc:ac4cd592df9f4681f1fb8c2de7bccd4c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">System RAM IP address data. <br /></td></tr>
<tr class="separator:ac4cd592df9f4681f1fb8c2de7bccd4c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Port 3</div></td></tr>
<tr class="memitem:abd79c0d3a9f8db03d68ff3d0ca29e7b7"><td class="memItemLeft" align="right" valign="top"><a id="abd79c0d3a9f8db03d68ff3d0ca29e7b7" name="abd79c0d3a9f8db03d68ff3d0ca29e7b7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P3_EN</b>&#160;&#160;&#160;(<a class="el" href="bmp_8h.html#a5145c614782dadabd448adec17b7a885a5281bdc5e2d7f87fd402e2065df1b743">XFSEL_0</a> + <a class="el" href="bmp_8h.html#a5145c614782dadabd448adec17b7a885a1ce383c284ab2e1ccaf461e4f2e537ab">XFSEL_1</a>)</td></tr>
<tr class="separator:abd79c0d3a9f8db03d68ff3d0ca29e7b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a839e00a0c3349dd8983b101d0b86a65c"><td class="memItemLeft" align="right" valign="top"><a id="a839e00a0c3349dd8983b101d0b86a65c" name="a839e00a0c3349dd8983b101d0b86a65c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P3_INIT</b>&#160;&#160;&#160;(<a class="el" href="bmp_8h.html#a5145c614782dadabd448adec17b7a885a5281bdc5e2d7f87fd402e2065df1b743">XFSEL_0</a> + <a class="el" href="bmp_8h.html#a5145c614782dadabd448adec17b7a885a1ce383c284ab2e1ccaf461e4f2e537ab">XFSEL_1</a>)</td></tr>
<tr class="separator:a839e00a0c3349dd8983b101d0b86a65c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Port 4</div></td></tr>
<tr class="memitem:a18cdab2987da1caa0d91f5044841151c"><td class="memItemLeft" align="right" valign="top"><a id="a18cdab2987da1caa0d91f5044841151c" name="a18cdab2987da1caa0d91f5044841151c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P4_EN</b>&#160;&#160;&#160;(<a class="el" href="bmp_8h.html#a5145c614782dadabd448adec17b7a885a06a41c557989ee563da9fe22191ad85d">XFSEL_2</a>)</td></tr>
<tr class="separator:a18cdab2987da1caa0d91f5044841151c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f208f7213a904cddb7811546073940"><td class="memItemLeft" align="right" valign="top"><a id="ae7f208f7213a904cddb7811546073940" name="ae7f208f7213a904cddb7811546073940"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P4_INIT</b>&#160;&#160;&#160;(<a class="el" href="bmp_8h.html#a5145c614782dadabd448adec17b7a885a06a41c557989ee563da9fe22191ad85d">XFSEL_2</a>)</td></tr>
<tr class="separator:ae7f208f7213a904cddb7811546073940"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac1efb19ee02de1aece2c939a5d9439c9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#ac1efb19ee02de1aece2c939a5d9439c9">cpu_int_off</a> (void)</td></tr>
<tr class="memdesc:ac1efb19ee02de1aece2c939a5d9439c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable interrupts.  <br /></td></tr>
<tr class="separator:ac1efb19ee02de1aece2c939a5d9439c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a699262d5ab05034676eac90070bf87d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a699262d5ab05034676eac90070bf87d3">cpu_int_restore</a> (uint32_t cpsr)</td></tr>
<tr class="memdesc:a699262d5ab05034676eac90070bf87d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore interrupts.  <br /></td></tr>
<tr class="separator:a699262d5ab05034676eac90070bf87d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd418c89b16a13eb6a6e7696b9cdb5dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#acd418c89b16a13eb6a6e7696b9cdb5dc">clock_div</a> (uint32_t bit_pos, uint32_t value)</td></tr>
<tr class="memdesc:acd418c89b16a13eb6a6e7696b9cdb5dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure clock division.  <br /></td></tr>
<tr class="separator:acd418c89b16a13eb6a6e7696b9cdb5dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a72c040cae97ee2ab61482285a0d07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#ae9a72c040cae97ee2ab61482285a0d07">set_power</a> (uint32_t state)</td></tr>
<tr class="memdesc:ae9a72c040cae97ee2ab61482285a0d07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn board off or on.  <br /></td></tr>
<tr class="separator:ae9a72c040cae97ee2ab61482285a0d07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48649aac67e33ed3f393da2bd89b7ace"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a48649aac67e33ed3f393da2bd89b7ace">led_set</a> (uint32_t leds)</td></tr>
<tr class="memdesc:a48649aac67e33ed3f393da2bd89b7ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control the LEDs.  <br /></td></tr>
<tr class="separator:a48649aac67e33ed3f393da2bd89b7ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a650f1aa06503f4cc6cdac6f3e8e8d4c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a650f1aa06503f4cc6cdac6f3e8e8d4c0">fpga_reset</a> (uint32_t code)</td></tr>
<tr class="memdesc:a650f1aa06503f4cc6cdac6f3e8e8d4c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the FPGAs.  <br /></td></tr>
<tr class="separator:a650f1aa06503f4cc6cdac6f3e8e8d4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a88a9f09f7fc936fc40d64f137519d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a39a88a9f09f7fc936fc40d64f137519d">fpga_init</a> (uint32_t mask)</td></tr>
<tr class="memdesc:a39a88a9f09f7fc936fc40d64f137519d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise FPGAs.  <br /></td></tr>
<tr class="separator:a39a88a9f09f7fc936fc40d64f137519d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8461b3f2bcadfc9919e02c53f5f542"><td class="memItemLeft" align="right" valign="top"><a id="a7e8461b3f2bcadfc9919e02c53f5f542" name="a7e8461b3f2bcadfc9919e02c53f5f542"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>configure_adc</b> (void)</td></tr>
<tr class="memdesc:a7e8461b3f2bcadfc9919e02c53f5f542"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure analog-to-digital converters for voltage monitoring. <br /></td></tr>
<tr class="separator:a7e8461b3f2bcadfc9919e02c53f5f542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20bf2c1961b82f66bae68eb2c3f1ebb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a20bf2c1961b82f66bae68eb2c3f1ebb6">read_adc</a> (void)</td></tr>
<tr class="memdesc:a20bf2c1961b82f66bae68eb2c3f1ebb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read voltage from an ADC (directly into <a class="el" href="bmp_8h.html#a88b994d0cc01eff7cc111ac1963b46c5" title="Voltages.">board_stat_t::adc</a>) and start the read of the next ADC.  <br /></td></tr>
<tr class="separator:a20bf2c1961b82f66bae68eb2c3f1ebb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae905d7835684d4fa063e76ab965d3fe6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#ae905d7835684d4fa063e76ab965d3fe6">configure_wdt</a> (uint32_t period)</td></tr>
<tr class="memdesc:ae905d7835684d4fa063e76ab965d3fe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the watchdog timer.  <br /></td></tr>
<tr class="separator:ae905d7835684d4fa063e76ab965d3fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5e64f089f304d9e70f04cd9f3a338b7"><td class="memItemLeft" align="right" valign="top"><a id="ab5e64f089f304d9e70f04cd9f3a338b7" name="ab5e64f089f304d9e70f04cd9f3a338b7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>refresh_wdt</b> (void)</td></tr>
<tr class="memdesc:ab5e64f089f304d9e70f04cd9f3a338b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refresh the watchdog timer so that the watchdog doesn't bark. <br /></td></tr>
<tr class="separator:ab5e64f089f304d9e70f04cd9f3a338b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a2b2a7285d4ab51439867ff2b75697b"><td class="memItemLeft" align="right" valign="top"><a id="a7a2b2a7285d4ab51439867ff2b75697b" name="a7a2b2a7285d4ab51439867ff2b75697b"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>process_reset</b> (void)</td></tr>
<tr class="memdesc:a7a2b2a7285d4ab51439867ff2b75697b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset critical vectors and timers. <br /></td></tr>
<tr class="separator:a7a2b2a7285d4ab51439867ff2b75697b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7859f5dbdcdf69a2cdd7bd899a3aa84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#ad7859f5dbdcdf69a2cdd7bd899a3aa84">configure_pwm</a> (uint32_t period, uint32_t width)</td></tr>
<tr class="memdesc:ad7859f5dbdcdf69a2cdd7bd899a3aa84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure pulse-width modulation hardware.  <br /></td></tr>
<tr class="separator:ad7859f5dbdcdf69a2cdd7bd899a3aa84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab80327b9a26c2731267dedfdbc08df"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a9ab80327b9a26c2731267dedfdbc08df">timer_init</a> (LPC_TIM_TypeDef *timer, uint32_t channel, uint32_t value)</td></tr>
<tr class="memdesc:a9ab80327b9a26c2731267dedfdbc08df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure a timer.  <br /></td></tr>
<tr class="separator:a9ab80327b9a26c2731267dedfdbc08df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52947d8d39aa8f411ef4761c22d957f0"><td class="memItemLeft" align="right" valign="top"><a id="a52947d8d39aa8f411ef4761c22d957f0" name="a52947d8d39aa8f411ef4761c22d957f0"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>configure_timers</b> (void)</td></tr>
<tr class="memdesc:a52947d8d39aa8f411ef4761c22d957f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure <em>periodic</em> timers. <br /></td></tr>
<tr class="separator:a52947d8d39aa8f411ef4761c22d957f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c76b261708a08cbb0e7446c0bdf7df9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a6c76b261708a08cbb0e7446c0bdf7df9">set_pin_mf</a> (uint32_t port, uint32_t pin, uint32_t mode, uint32_t function)</td></tr>
<tr class="memdesc:a6c76b261708a08cbb0e7446c0bdf7df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set pin mode and function.  <br /></td></tr>
<tr class="separator:a6c76b261708a08cbb0e7446c0bdf7df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb331875a2d4646c6c85586a406e338f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#abb331875a2d4646c6c85586a406e338f">set_pin_od</a> (uint32_t port, uint32_t pin, uint32_t mode)</td></tr>
<tr class="memdesc:abb331875a2d4646c6c85586a406e338f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set pin operation: open-drain or normal.  <br /></td></tr>
<tr class="separator:abb331875a2d4646c6c85586a406e338f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92eade41b60bf247aa2e68b3d2d4356a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a92eade41b60bf247aa2e68b3d2d4356a">config_pin</a> (uint32_t port, uint32_t pin, uint32_t func)</td></tr>
<tr class="memdesc:a92eade41b60bf247aa2e68b3d2d4356a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set pin function.  <br /></td></tr>
<tr class="separator:a92eade41b60bf247aa2e68b3d2d4356a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf97ed89d6672c4a3e129116a4ec6aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a3bf97ed89d6672c4a3e129116a4ec6aa">ssp0_pins</a> (uint32_t on)</td></tr>
<tr class="memdesc:a3bf97ed89d6672c4a3e129116a4ec6aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up GPIO pins that talk to Flash.  <br /></td></tr>
<tr class="separator:a3bf97ed89d6672c4a3e129116a4ec6aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e60f6b40de34772f1a83d0985601031"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a5e60f6b40de34772f1a83d0985601031">configure_pins</a> (void)</td></tr>
<tr class="memdesc:a5e60f6b40de34772f1a83d0985601031"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure pins for talking to external peripherals.  <br /></td></tr>
<tr class="separator:a5e60f6b40de34772f1a83d0985601031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bce74eadcb72b3a8b72ee9733ec0f85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a3bce74eadcb72b3a8b72ee9733ec0f85">reset_spin</a> (uint32_t code)</td></tr>
<tr class="memdesc:a3bce74eadcb72b3a8b72ee9733ec0f85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets SpiNNaker by raising/lowering POR and switching the Serial Flash multiplexer as needed when POR falls.  <br /></td></tr>
<tr class="separator:a3bce74eadcb72b3a8b72ee9733ec0f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52fac94d10ba2b12a3e5356de835297a"><td class="memItemLeft" align="right" valign="top"><a id="a52fac94d10ba2b12a3e5356de835297a" name="a52fac94d10ba2b12a3e5356de835297a"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>configure_mcpwm</b> (void)</td></tr>
<tr class="memdesc:a52fac94d10ba2b12a3e5356de835297a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a 300kHz 120 degree duty-cycle waveform on three outputs MC0B0, MC0B1, MC0B2 (NB outputs not enabled on Spin4) <br /></td></tr>
<tr class="separator:a52fac94d10ba2b12a3e5356de835297a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4ca64efefdf5363069d6c46f160c42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a1e4ca64efefdf5363069d6c46f160c42">read_fans</a> (void)</td></tr>
<tr class="memdesc:a1e4ca64efefdf5363069d6c46f160c42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count transitions on the fan sensor inputs.  <br /></td></tr>
<tr class="separator:a1e4ca64efefdf5363069d6c46f160c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ec8c07891a5f8c08b9a7f228cd9bd51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a6ec8c07891a5f8c08b9a7f228cd9bd51">read_temp</a> (void)</td></tr>
<tr class="memdesc:a6ec8c07891a5f8c08b9a7f228cd9bd51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read I2C temperature sensors and also compute the fan speed.  <br /></td></tr>
<tr class="separator:a6ec8c07891a5f8c08b9a7f228cd9bd51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa1602ba2e681c7d1f43ad5e6919d227"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#aaa1602ba2e681c7d1f43ad5e6919d227">die</a> (uint32_t code)</td></tr>
<tr class="memdesc:aaa1602ba2e681c7d1f43ad5e6919d227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Curl up and die (probably because of hardware failure or misconfiguration.  <br /></td></tr>
<tr class="separator:aaa1602ba2e681c7d1f43ad5e6919d227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f2952f86723695314b3832b4e7142e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#af2f2952f86723695314b3832b4e7142e">delay_us</a> (uint32_t n)</td></tr>
<tr class="memdesc:af2f2952f86723695314b3832b4e7142e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay using a busy loop.  <br /></td></tr>
<tr class="separator:af2f2952f86723695314b3832b4e7142e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4ea4f73f0333bd1f6eb0a9dd437b84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a4c4ea4f73f0333bd1f6eb0a9dd437b84">delay_ms</a> (uint32_t n)</td></tr>
<tr class="memdesc:a4c4ea4f73f0333bd1f6eb0a9dd437b84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay using a busy loop.  <br /></td></tr>
<tr class="separator:a4c4ea4f73f0333bd1f6eb0a9dd437b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f108c3949b40f8728c51afe069586b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a63f108c3949b40f8728c51afe069586b">configure_spin</a> (void)</td></tr>
<tr class="separator:a63f108c3949b40f8728c51afe069586b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5eaac72e01db2e7475fdb129e3850a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a8f5eaac72e01db2e7475fdb129e3850a">proc_setup</a> (uint32_t d1, uint32_t d2)</td></tr>
<tr class="memdesc:a8f5eaac72e01db2e7475fdb129e3850a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up networking. Handles remote request across CAN from BMP master.  <br /></td></tr>
<tr class="separator:a8f5eaac72e01db2e7475fdb129e3850a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c8583ee1eed2330db15bb6f2ff4d60"><td class="memItemLeft" align="right" valign="top"><a id="aa7c8583ee1eed2330db15bb6f2ff4d60" name="aa7c8583ee1eed2330db15bb6f2ff4d60"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>configure_hw</b> (void)</td></tr>
<tr class="memdesc:aa7c8583ee1eed2330db15bb6f2ff4d60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the BMP hardware. <br /></td></tr>
<tr class="separator:aa7c8583ee1eed2330db15bb6f2ff4d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4ef02059e1d41d90baca6ff978717cd7"><td class="memItemLeft" align="right" valign="top"><a id="a4ef02059e1d41d90baca6ff978717cd7" name="a4ef02059e1d41d90baca6ff978717cd7"></a>
<a class="el" href="bmp_8h.html#structboard__stat__t">board_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>board_stat</b> [<a class="el" href="bmp_8h.html#a4b4e786947266ec7b27747adf99779c1">CAN_SIZE</a>]</td></tr>
<tr class="memdesc:a4ef02059e1d41d90baca6ff978717cd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Board status. <br /></td></tr>
<tr class="separator:a4ef02059e1d41d90baca6ff978717cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac118f17a2395272fafd4b6bfc54edaeb"><td class="memItemLeft" align="right" valign="top"><a id="ac118f17a2395272fafd4b6bfc54edaeb" name="ac118f17a2395272fafd4b6bfc54edaeb"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>adc_chan</b></td></tr>
<tr class="memdesc:ac118f17a2395272fafd4b6bfc54edaeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current ADC channel (see <a class="el" href="bmp__hw_8c.html#a20bf2c1961b82f66bae68eb2c3f1ebb6" title="Read voltage from an ADC (directly into board_stat_t::adc) and start the read of the next ADC.">read_adc()</a>) <br /></td></tr>
<tr class="separator:ac118f17a2395272fafd4b6bfc54edaeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fe1befee0586f918a0303780d11a7e8"><td class="memItemLeft" align="right" valign="top"><a id="a6fe1befee0586f918a0303780d11a7e8" name="a6fe1befee0586f918a0303780d11a7e8"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>can_ID</b></td></tr>
<tr class="memdesc:a6fe1befee0586f918a0303780d11a7e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN ID (from backplane) <br /></td></tr>
<tr class="separator:a6fe1befee0586f918a0303780d11a7e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f074c2e5b1ed92305c21569630fa4ef"><td class="memItemLeft" align="right" valign="top"><a id="a2f074c2e5b1ed92305c21569630fa4ef" name="a2f074c2e5b1ed92305c21569630fa4ef"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>board_ID</b></td></tr>
<tr class="memdesc:a2f074c2e5b1ed92305c21569630fa4ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Board ID (devived from can_ID) <br /></td></tr>
<tr class="separator:a2f074c2e5b1ed92305c21569630fa4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeb5d6860f2819861cf2bd9ff67e4389"><td class="memItemLeft" align="right" valign="top"><a id="aaeb5d6860f2819861cf2bd9ff67e4389" name="aaeb5d6860f2819861cf2bd9ff67e4389"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>bp_ctrl</b></td></tr>
<tr class="memdesc:aaeb5d6860f2819861cf2bd9ff67e4389"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backplane controller. <br /></td></tr>
<tr class="separator:aaeb5d6860f2819861cf2bd9ff67e4389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba98813898d916f801e739159a67f699"><td class="memItemLeft" align="right" valign="top"><a id="aba98813898d916f801e739159a67f699" name="aba98813898d916f801e739159a67f699"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>fan_sense</b></td></tr>
<tr class="memdesc:aba98813898d916f801e739159a67f699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute fan speed. <br /></td></tr>
<tr class="separator:aba98813898d916f801e739159a67f699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a705c39f87621a5c5964aa7faa021aaba"><td class="memItemLeft" align="right" valign="top"><a id="a705c39f87621a5c5964aa7faa021aaba" name="a705c39f87621a5c5964aa7faa021aaba"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>power_state</b></td></tr>
<tr class="memdesc:a705c39f87621a5c5964aa7faa021aaba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power supply state. <br /></td></tr>
<tr class="separator:a705c39f87621a5c5964aa7faa021aaba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ccda540f8f33d864763cd2478f5923d"><td class="memItemLeft" align="right" valign="top"><a id="a8ccda540f8f33d864763cd2478f5923d" name="a8ccda540f8f33d864763cd2478f5923d"></a>
<a class="el" href="bmp_8h.html#structee__data__t">ee_data_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ee_data</b></td></tr>
<tr class="memdesc:a8ccda540f8f33d864763cd2478f5923d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy of EEPROM data. <br /></td></tr>
<tr class="separator:a8ccda540f8f33d864763cd2478f5923d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217cc657c1dc42c252f3ef7ef6b48351"><td class="memItemLeft" align="right" valign="top"><a id="a217cc657c1dc42c252f3ef7ef6b48351" name="a217cc657c1dc42c252f3ef7ef6b48351"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>config1</b></td></tr>
<tr class="memdesc:a217cc657c1dc42c252f3ef7ef6b48351"><td class="mdescLeft">&#160;</td><td class="mdescRight">Argument <code>d1</code> to pass to <a class="el" href="bmp__can_8c.html#a8f5eaac72e01db2e7475fdb129e3850a" title="Set up networking. Handles remote request across CAN from BMP master.">proc_setup()</a> <br /></td></tr>
<tr class="separator:a217cc657c1dc42c252f3ef7ef6b48351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f0562ab6f92c86ca3c459d185c5231"><td class="memItemLeft" align="right" valign="top"><a id="ae0f0562ab6f92c86ca3c459d185c5231" name="ae0f0562ab6f92c86ca3c459d185c5231"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>config2</b></td></tr>
<tr class="memdesc:ae0f0562ab6f92c86ca3c459d185c5231"><td class="mdescLeft">&#160;</td><td class="mdescRight">Argument <code>d2</code> to pass to <a class="el" href="bmp__can_8c.html#a8f5eaac72e01db2e7475fdb129e3850a" title="Set up networking. Handles remote request across CAN from BMP master.">proc_setup()</a> <br /></td></tr>
<tr class="separator:ae0f0562ab6f92c86ca3c459d185c5231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5991583fe7d6b81e3a14f8c72c617a53"><td class="memItemLeft" align="right" valign="top"><a id="a5991583fe7d6b81e3a14f8c72c617a53" name="a5991583fe7d6b81e3a14f8c72c617a53"></a>
const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>can2board</b></td></tr>
<tr class="memdesc:a5991583fe7d6b81e3a14f8c72c617a53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapping from CAN ID to board number. <br /></td></tr>
<tr class="separator:a5991583fe7d6b81e3a14f8c72c617a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b0f9fee0cabe6d7de99a9802c776412"><td class="memItemLeft" align="right" valign="top"><a id="a9b0f9fee0cabe6d7de99a9802c776412" name="a9b0f9fee0cabe6d7de99a9802c776412"></a>
const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>board2can</b></td></tr>
<tr class="memdesc:a9b0f9fee0cabe6d7de99a9802c776412"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapping from board number to CAN ID. <br /></td></tr>
<tr class="separator:a9b0f9fee0cabe6d7de99a9802c776412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b673e3198e0ea598fc66aeb0c22fc2"><td class="memItemLeft" align="right" valign="top"><a id="ae0b673e3198e0ea598fc66aeb0c22fc2" name="ae0b673e3198e0ea598fc66aeb0c22fc2"></a>
const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>hw_ver</b> = 5</td></tr>
<tr class="memdesc:ae0b673e3198e0ea598fc66aeb0c22fc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hardware version. <br /></td></tr>
<tr class="separator:ae0b673e3198e0ea598fc66aeb0c22fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa82536430726a63baaa34ff328df2af"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#afa82536430726a63baaa34ff328df2af">led_bit</a> []</td></tr>
<tr class="memdesc:afa82536430726a63baaa34ff328df2af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapping from LED index to GPIO pin flags.  <br /></td></tr>
<tr class="separator:afa82536430726a63baaa34ff328df2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ab9d88778563e8a6a9a452f04f09c2"><td class="memItemLeft" align="right" valign="top"><a id="a57ab9d88778563e8a6a9a452f04f09c2" name="a57ab9d88778563e8a6a9a452f04f09c2"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>fan_last</b> [4]</td></tr>
<tr class="memdesc:a57ab9d88778563e8a6a9a452f04f09c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last fan state. <br /></td></tr>
<tr class="separator:a57ab9d88778563e8a6a9a452f04f09c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ade497a82f3e0a2d739353b658bf6a"><td class="memItemLeft" align="right" valign="top"><a id="a34ade497a82f3e0a2d739353b658bf6a" name="a34ade497a82f3e0a2d739353b658bf6a"></a>
static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>fan_count</b> [4]</td></tr>
<tr class="memdesc:a34ade497a82f3e0a2d739353b658bf6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fan rotation counter. <br /></td></tr>
<tr class="separator:a34ade497a82f3e0a2d739353b658bf6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122436f698807991c9f23ee87936e108"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a122436f698807991c9f23ee87936e108">can2board_0</a> []</td></tr>
<tr class="memdesc:a122436f698807991c9f23ee87936e108"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default mapping from CAN ID to board number, for <a class="el" href="bmp__hw_8c.html#a5991583fe7d6b81e3a14f8c72c617a53" title="Mapping from CAN ID to board number.">can2board</a>.  <br /></td></tr>
<tr class="separator:a122436f698807991c9f23ee87936e108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ffdb602c9a6b286f6ea325cac64495a"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a5ffdb602c9a6b286f6ea325cac64495a">board2can_0</a> []</td></tr>
<tr class="memdesc:a5ffdb602c9a6b286f6ea325cac64495a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default mapping from board number to CAN ID, for <a class="el" href="bmp__hw_8c.html#a9b0f9fee0cabe6d7de99a9802c776412" title="Mapping from board number to CAN ID.">board2can</a>.  <br /></td></tr>
<tr class="separator:a5ffdb602c9a6b286f6ea325cac64495a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063fb0b1b59514f2e6f33b2d73a2292a"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a063fb0b1b59514f2e6f33b2d73a2292a">null_map</a> []</td></tr>
<tr class="memdesc:a063fb0b1b59514f2e6f33b2d73a2292a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Null mapping, used when not in a frame. One-to-one.  <br /></td></tr>
<tr class="separator:a063fb0b1b59514f2e6f33b2d73a2292a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8e3252ba640c754c436486e184717ec"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="bmp_8h.html#structee__data__t">ee_data_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#ab8e3252ba640c754c436486e184717ec">ee_default</a></td></tr>
<tr class="memdesc:ab8e3252ba640c754c436486e184717ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default "EEPROM" data, when EEPROM fails.  <br /></td></tr>
<tr class="separator:ab8e3252ba640c754c436486e184717ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Port 0</h2></td></tr>
<tr class="memitem:a7794e340314e9af30c90e0d32f89e2a1"><td class="memItemLeft" align="right" valign="top"><a id="a7794e340314e9af30c90e0d32f89e2a1" name="a7794e340314e9af30c90e0d32f89e2a1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P0_EN</b>&#160;&#160;&#160;(SF_NCS + IO_EN1 + <a class="el" href="bmp_8h.html#ad0d0bdd5242aaa7aa76f00d47799d0ae">LED_MASK</a>)</td></tr>
<tr class="separator:a7794e340314e9af30c90e0d32f89e2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6365c3c678af336fc9e4a8df234d0b2"><td class="memItemLeft" align="right" valign="top"><a id="ad6365c3c678af336fc9e4a8df234d0b2" name="ad6365c3c678af336fc9e4a8df234d0b2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P0_INIT</b>&#160;&#160;&#160;(SF_NCS + IO_EN1 + <a class="el" href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0a8312fbd732e656f38ddd252142c92424">LED_0</a>)</td></tr>
<tr class="separator:ad6365c3c678af336fc9e4a8df234d0b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a298976be709fa2dee40bfac728a15e25"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#a298976be709fa2dee40bfac728a15e25">gpio_bits_port_0</a> { <b>FAN_ED2</b> = (1 &lt;&lt; 6)
, <b>IO_EN1</b> = (1 &lt;&lt; 23)
, <a class="el" href="bmp__hw_8c.html#a298976be709fa2dee40bfac728a15e25a9d51a8c100ce438db65f67d821052ea1">I2C_SDA</a> = (1 &lt;&lt; 27)
, <a class="el" href="bmp__hw_8c.html#a298976be709fa2dee40bfac728a15e25a534ddbbf6eacc8aac5fef71be474c64d">I2C_SCL</a> = (1 &lt;&lt; 28)
 }</td></tr>
<tr class="separator:a298976be709fa2dee40bfac728a15e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Port 1</h2></td></tr>
<tr class="memitem:a5a7a6b556858596c18c4de6ad434967a"><td class="memItemLeft" align="right" valign="top"><a id="a5a7a6b556858596c18c4de6ad434967a" name="a5a7a6b556858596c18c4de6ad434967a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P1_EN</b>&#160;&#160;&#160;    (EN_V12 + EN_V18 + <a class="el" href="bmp__hw_8c.html#ae6cdd28096c586335f996fb15244fe64a6f5cc21b08e5db5ac8816eab15ce9197">EN_VFPGA</a> + XPROGB_0 + XPROGB_1 + XPROGB_2 + <a class="el" href="bmp__hw_8c.html#ae6cdd28096c586335f996fb15244fe64ab9e9fc04b344e002a4fee1ac04618fd6">XIL_RST</a>)</td></tr>
<tr class="separator:a5a7a6b556858596c18c4de6ad434967a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa345d97df273dec5c5d2e11e363c3fa"><td class="memItemLeft" align="right" valign="top"><a id="aaa345d97df273dec5c5d2e11e363c3fa" name="aaa345d97df273dec5c5d2e11e363c3fa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P1_INIT</b>&#160;&#160;&#160;(EN_V12 + EN_V18 + XPROGB_0 + XPROGB_1 + XPROGB_2)</td></tr>
<tr class="separator:aaa345d97df273dec5c5d2e11e363c3fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6cdd28096c586335f996fb15244fe64"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#ae6cdd28096c586335f996fb15244fe64">gpio_bits_port_1</a> { <br />
&#160;&#160;<a class="el" href="bmp__hw_8c.html#ae6cdd28096c586335f996fb15244fe64ab9e9fc04b344e002a4fee1ac04618fd6">XIL_RST</a> = (1 &lt;&lt; 14)
, <b>EN_V12</b> = (1 &lt;&lt; 18)
, <b>EN_V18</b> = (1 &lt;&lt; 19)
, <a class="el" href="bmp__hw_8c.html#ae6cdd28096c586335f996fb15244fe64a6f5cc21b08e5db5ac8816eab15ce9197">EN_VFPGA</a> = (1 &lt;&lt; 20)
, <br />
&#160;&#160;<b>XPROGB_0</b> = (1 &lt;&lt; 21)
, <b>XPROGB_1</b> = (1 &lt;&lt; 23)
, <b>XPROGB_2</b> = (1 &lt;&lt; 24)
, <b>XDONE</b> = (1 &lt;&lt; 31)
<br />
 }</td></tr>
<tr class="separator:ae6cdd28096c586335f996fb15244fe64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Port 2</h2></td></tr>
<tr class="memitem:ac4db621e1387246b454e6b814628aad4"><td class="memItemLeft" align="right" valign="top"><a id="ac4db621e1387246b454e6b814628aad4" name="ac4db621e1387246b454e6b814628aad4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>XINIT_B</b>&#160;&#160;&#160;(XINITB_0 + XINITB_1 + XINITB_2)</td></tr>
<tr class="separator:ac4db621e1387246b454e6b814628aad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af381c7e30981ddbf394316c6a2b30a85"><td class="memItemLeft" align="right" valign="top"><a id="af381c7e30981ddbf394316c6a2b30a85" name="af381c7e30981ddbf394316c6a2b30a85"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P2_EN</b>&#160;&#160;&#160;    (<a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258bea3bdec405d91422117f295b88fb46dff3">BOOT_1</a> + <a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258bead65e629267df5fdedaef8709af31a380">POR</a> + <a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258bea7dcb79ea9485b2b09a8453d9f9f575c2">RST</a> + IO_EN2 + <a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258bea940e9127fce268368468111c77bce5f4">IO_6</a> + <a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258bea8244f2cf087bb3c2a3e41ded8f54de48">IO_7</a> + IO_8 + IO_9)</td></tr>
<tr class="separator:af381c7e30981ddbf394316c6a2b30a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18598faab0941318157103946931b2dc"><td class="memItemLeft" align="right" valign="top"><a id="a18598faab0941318157103946931b2dc" name="a18598faab0941318157103946931b2dc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P2_INIT</b>&#160;&#160;&#160;(<a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258bea940e9127fce268368468111c77bce5f4">IO_6</a> + IO_EN2)</td></tr>
<tr class="memdesc:a18598faab0941318157103946931b2dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">BootROM + serial + POST. <br /></td></tr>
<tr class="separator:a18598faab0941318157103946931b2dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9b3ab92268141583a680e079f3258be"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258be">gpio_bits_port_2</a> { <br />
&#160;&#160;<a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258bea3bdec405d91422117f295b88fb46dff3">BOOT_1</a> = (1 &lt;&lt; 0)
, <a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258bea940e9127fce268368468111c77bce5f4">IO_6</a> = (1 &lt;&lt; 1)
, <a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258bea8244f2cf087bb3c2a3e41ded8f54de48">IO_7</a> = (1 &lt;&lt; 2)
, <b>IO_8</b> = (1 &lt;&lt; 3)
, <br />
&#160;&#160;<b>IO_9</b> = (1 &lt;&lt; 4)
, <a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258beacab4da315575586b43b34cfcbbd0575e">FAN_PWM</a> = (1 &lt;&lt; 5)
, <a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258bead65e629267df5fdedaef8709af31a380">POR</a> = (1 &lt;&lt; 6)
, <a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258bea7dcb79ea9485b2b09a8453d9f9f575c2">RST</a> = (1 &lt;&lt; 7)
, <br />
&#160;&#160;<b>FAN_ED0</b> = (1 &lt;&lt; 8)
, <b>FAN_ED1</b> = (1 &lt;&lt; 9)
, <b>IO_EN2</b> = (1 &lt;&lt; 10)
, <b>XINITB_0</b> = (1 &lt;&lt; 11)
, <br />
&#160;&#160;<b>XINITB_1</b> = (1 &lt;&lt; 12)
, <b>XINITB_2</b> = (1 &lt;&lt; 13)
<br />
 }</td></tr>
<tr class="separator:aa9b3ab92268141583a680e079f3258be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Low-level hardware interface code for BMP LPC1768. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>&copy; The University of Manchester - 2012-2015</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Steve Temple, APT Group, School of Computer Science </dd></dl>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a298976be709fa2dee40bfac728a15e25" name="a298976be709fa2dee40bfac728a15e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a298976be709fa2dee40bfac728a15e25">&#9670;&#160;</a></span>gpio_bits_port_0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bmp__hw_8c.html#a298976be709fa2dee40bfac728a15e25">gpio_bits_port_0</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a298976be709fa2dee40bfac728a15e25a9d51a8c100ce438db65f67d821052ea1" name="a298976be709fa2dee40bfac728a15e25a9d51a8c100ce438db65f67d821052ea1"></a>I2C_SDA&#160;</td><td class="fielddoc"><p>I<sup>2</sup>C data. </p>
</td></tr>
<tr><td class="fieldname"><a id="a298976be709fa2dee40bfac728a15e25a534ddbbf6eacc8aac5fef71be474c64d" name="a298976be709fa2dee40bfac728a15e25a534ddbbf6eacc8aac5fef71be474c64d"></a>I2C_SCL&#160;</td><td class="fielddoc"><p>I<sup>2</sup>C clock. </p>
</td></tr>
</table>

</div>
</div>
<a id="ae6cdd28096c586335f996fb15244fe64" name="ae6cdd28096c586335f996fb15244fe64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6cdd28096c586335f996fb15244fe64">&#9670;&#160;</a></span>gpio_bits_port_1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bmp__hw_8c.html#ae6cdd28096c586335f996fb15244fe64">gpio_bits_port_1</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae6cdd28096c586335f996fb15244fe64ab9e9fc04b344e002a4fee1ac04618fd6" name="ae6cdd28096c586335f996fb15244fe64ab9e9fc04b344e002a4fee1ac04618fd6"></a>XIL_RST&#160;</td><td class="fielddoc"><p>FPGA reset. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae6cdd28096c586335f996fb15244fe64a6f5cc21b08e5db5ac8816eab15ce9197" name="ae6cdd28096c586335f996fb15244fe64a6f5cc21b08e5db5ac8816eab15ce9197"></a>EN_VFPGA&#160;</td><td class="fielddoc"><p>Enable FPGA. </p>
</td></tr>
</table>

</div>
</div>
<a id="aa9b3ab92268141583a680e079f3258be" name="aa9b3ab92268141583a680e079f3258be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9b3ab92268141583a680e079f3258be">&#9670;&#160;</a></span>gpio_bits_port_2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bmp__hw_8c.html#aa9b3ab92268141583a680e079f3258be">gpio_bits_port_2</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa9b3ab92268141583a680e079f3258bea3bdec405d91422117f295b88fb46dff3" name="aa9b3ab92268141583a680e079f3258bea3bdec405d91422117f295b88fb46dff3"></a>BOOT_1&#160;</td><td class="fielddoc"><p>GPIO[1]. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa9b3ab92268141583a680e079f3258bea940e9127fce268368468111c77bce5f4" name="aa9b3ab92268141583a680e079f3258bea940e9127fce268368468111c77bce5f4"></a>IO_6&#160;</td><td class="fielddoc"><p>GPIO[6]. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa9b3ab92268141583a680e079f3258bea8244f2cf087bb3c2a3e41ded8f54de48" name="aa9b3ab92268141583a680e079f3258bea8244f2cf087bb3c2a3e41ded8f54de48"></a>IO_7&#160;</td><td class="fielddoc"><p>GPIO[7]. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa9b3ab92268141583a680e079f3258beacab4da315575586b43b34cfcbbd0575e" name="aa9b3ab92268141583a680e079f3258beacab4da315575586b43b34cfcbbd0575e"></a>FAN_PWM&#160;</td><td class="fielddoc"><p>Fan pulse width modulation. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa9b3ab92268141583a680e079f3258bead65e629267df5fdedaef8709af31a380" name="aa9b3ab92268141583a680e079f3258bead65e629267df5fdedaef8709af31a380"></a>POR&#160;</td><td class="fielddoc"><p>Power on reset. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa9b3ab92268141583a680e079f3258bea7dcb79ea9485b2b09a8453d9f9f575c2" name="aa9b3ab92268141583a680e079f3258bea7dcb79ea9485b2b09a8453d9f9f575c2"></a>RST&#160;</td><td class="fielddoc"><p>Reset. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac1efb19ee02de1aece2c939a5d9439c9" name="ac1efb19ee02de1aece2c939a5d9439c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1efb19ee02de1aece2c939a5d9439c9">&#9670;&#160;</a></span>cpu_int_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t cpu_int_off </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable interrupts. </p>
<dl class="section return"><dt>Returns</dt><dd>old CPSR state </dd></dl>

</div>
</div>
<a id="a699262d5ab05034676eac90070bf87d3" name="a699262d5ab05034676eac90070bf87d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a699262d5ab05034676eac90070bf87d3">&#9670;&#160;</a></span>cpu_int_restore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpu_int_restore </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cpsr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restore interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cpsr</td><td>old CPSR state to restore </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acd418c89b16a13eb6a6e7696b9cdb5dc" name="acd418c89b16a13eb6a6e7696b9cdb5dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd418c89b16a13eb6a6e7696b9cdb5dc">&#9670;&#160;</a></span>clock_div()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clock_div </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bit_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure clock division. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bit_pos</td><td>the bit position to configure </td></tr>
    <tr><td class="paramname">value</td><td>the value of that bit </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae9a72c040cae97ee2ab61482285a0d07" name="ae9a72c040cae97ee2ab61482285a0d07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9a72c040cae97ee2ab61482285a0d07">&#9670;&#160;</a></span>set_power()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_power </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn board off or on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>State to go into. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48649aac67e33ed3f393da2bd89b7ace" name="a48649aac67e33ed3f393da2bd89b7ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48649aac67e33ed3f393da2bd89b7ace">&#9670;&#160;</a></span>led_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void led_set </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>leds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control the LEDs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">leds</td><td>Encoded packed LED control word. Two bits per LED: 0 = ignore, 1 = toggle, 2 = turn off, 3 = turn on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a650f1aa06503f4cc6cdac6f3e8e8d4c0" name="a650f1aa06503f4cc6cdac6f3e8e8d4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a650f1aa06503f4cc6cdac6f3e8e8d4c0">&#9670;&#160;</a></span>fpga_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fpga_reset </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the FPGAs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>How to do the reset. 0 = clear reset line, 1 = set reset line, 2 = cycle reset line </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a39a88a9f09f7fc936fc40d64f137519d" name="a39a88a9f09f7fc936fc40d64f137519d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39a88a9f09f7fc936fc40d64f137519d">&#9670;&#160;</a></span>fpga_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t fpga_init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise FPGAs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>Which FPGAs to initialise </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if initalisation succeeded </dd></dl>

</div>
</div>
<a id="a20bf2c1961b82f66bae68eb2c3f1ebb6" name="a20bf2c1961b82f66bae68eb2c3f1ebb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20bf2c1961b82f66bae68eb2c3f1ebb6">&#9670;&#160;</a></span>read_adc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_adc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read voltage from an ADC (directly into <a class="el" href="bmp_8h.html#a88b994d0cc01eff7cc111ac1963b46c5" title="Voltages.">board_stat_t::adc</a>) and start the read of the next ADC. </p>
<p>This is called approx every 80ms from <a class="el" href="bmp__main_8c.html#adcedb2428ba0bdf7bc7586d452d129e4" title="100Hz timer tick callback">proc_100hz()</a>. </p>

</div>
</div>
<a id="ae905d7835684d4fa063e76ab965d3fe6" name="ae905d7835684d4fa063e76ab965d3fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae905d7835684d4fa063e76ab965d3fe6">&#9670;&#160;</a></span>configure_wdt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void configure_wdt </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>period</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the watchdog timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">period</td><td>Timer period </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad7859f5dbdcdf69a2cdd7bd899a3aa84" name="ad7859f5dbdcdf69a2cdd7bd899a3aa84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7859f5dbdcdf69a2cdd7bd899a3aa84">&#9670;&#160;</a></span>configure_pwm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void configure_pwm </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>width</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure pulse-width modulation hardware. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">period</td><td>Overall period </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">width</td><td>Pulse width. No longer than than <code>period</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9ab80327b9a26c2731267dedfdbc08df" name="a9ab80327b9a26c2731267dedfdbc08df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ab80327b9a26c2731267dedfdbc08df">&#9670;&#160;</a></span>timer_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timer_init </td>
          <td>(</td>
          <td class="paramtype">LPC_TIM_TypeDef *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure a timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timer</td><td>The timer to configure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The channel to put a timer on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Timer match value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c76b261708a08cbb0e7446c0bdf7df9" name="a6c76b261708a08cbb0e7446c0bdf7df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c76b261708a08cbb0e7446c0bdf7df9">&#9670;&#160;</a></span>set_pin_mf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_pin_mf </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set pin mode and function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Port index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>Pin number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Mode </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">function</td><td>Function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abb331875a2d4646c6c85586a406e338f" name="abb331875a2d4646c6c85586a406e338f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb331875a2d4646c6c85586a406e338f">&#9670;&#160;</a></span>set_pin_od()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_pin_od </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set pin operation: open-drain or normal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Port index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>Pin number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Mode </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a92eade41b60bf247aa2e68b3d2d4356a" name="a92eade41b60bf247aa2e68b3d2d4356a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92eade41b60bf247aa2e68b3d2d4356a">&#9670;&#160;</a></span>config_pin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void config_pin </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set pin function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Port index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>Pin number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">func</td><td>Function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3bf97ed89d6672c4a3e129116a4ec6aa" name="a3bf97ed89d6672c4a3e129116a4ec6aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf97ed89d6672c4a3e129116a4ec6aa">&#9670;&#160;</a></span>ssp0_pins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssp0_pins </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up GPIO pins that talk to Flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">on</td><td>True to enable </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e60f6b40de34772f1a83d0985601031" name="a5e60f6b40de34772f1a83d0985601031"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e60f6b40de34772f1a83d0985601031">&#9670;&#160;</a></span>configure_pins()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t configure_pins </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure pins for talking to external peripherals. </p>
<p>GPIO, CAN, Serial Flash, LED, I2C, Ethernet, FPGA </p><dl class="section return"><dt>Returns</dt><dd>our CAN ID </dd></dl>

</div>
</div>
<a id="a3bce74eadcb72b3a8b72ee9733ec0f85" name="a3bce74eadcb72b3a8b72ee9733ec0f85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bce74eadcb72b3a8b72ee9733ec0f85">&#9670;&#160;</a></span>reset_spin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_spin </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets SpiNNaker by raising/lowering POR and switching the Serial Flash multiplexer as needed when POR falls. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>How to do the reset</td></tr>
  </table>
  </dd>
</dl>
<p>code = 0 - lower POR (reset off) code = 1 - raise POR (reset on) code = 2 - pulse POR</p>
<p>If Bit 2 of code is set then the FPGAs are also reset</p>
<p>The Serial Flash is dual ported on Spin5 and the SpiNNaker root chip reads its IP address from it just after it is reset. The read takes about 12ms for the 'standard' IP address block of 32 bytes. If the Serial Flash is set up to contain more code, the delay of 20ms will need to be increased. </p>

</div>
</div>
<a id="a1e4ca64efefdf5363069d6c46f160c42" name="a1e4ca64efefdf5363069d6c46f160c42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e4ca64efefdf5363069d6c46f160c42">&#9670;&#160;</a></span>read_fans()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_fans </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Count transitions on the fan sensor inputs. </p>
<p>This routine is called once per millisec and it's assumed that the fan speed is low enough for there to be no more than one transition per ms. </p>

</div>
</div>
<a id="a6ec8c07891a5f8c08b9a7f228cd9bd51" name="a6ec8c07891a5f8c08b9a7f228cd9bd51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ec8c07891a5f8c08b9a7f228cd9bd51">&#9670;&#160;</a></span>read_temp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_temp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read I2C temperature sensors and also compute the fan speed. </p>
<p>This routine is called once per second. </p>

</div>
</div>
<a id="aaa1602ba2e681c7d1f43ad5e6919d227" name="aaa1602ba2e681c7d1f43ad5e6919d227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa1602ba2e681c7d1f43ad5e6919d227">&#9670;&#160;</a></span>die()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void die </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Curl up and die (probably because of hardware failure or misconfiguration. </p>
<p>The top LED is turned on (Red on Spin5) and the code is put on the next 4 LEDs (Green on Spin5). The bottom 3 LEDs are turned off. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>Failure code to indicate in LEDs </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af2f2952f86723695314b3832b4e7142e" name="af2f2952f86723695314b3832b4e7142e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2f2952f86723695314b3832b4e7142e">&#9670;&#160;</a></span>delay_us()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delay_us </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delay using a busy loop. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>How many &mu;s to delay for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4c4ea4f73f0333bd1f6eb0a9dd437b84" name="a4c4ea4f73f0333bd1f6eb0a9dd437b84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c4ea4f73f0333bd1f6eb0a9dd437b84">&#9670;&#160;</a></span>delay_ms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delay_ms </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delay using a busy loop. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>How many milliseconds to delay for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63f108c3949b40f8728c51afe069586b" name="a63f108c3949b40f8728c51afe069586b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63f108c3949b40f8728c51afe069586b">&#9670;&#160;</a></span>configure_spin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void configure_spin </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy the SpiNNaker IP address from buffer in memory (spin_ip) to the bottom of the serial Flash. The 32 bytes of data is padded with the necessary control codes to allow SpiNNaker to load the address block. The first 44 bytes of the serial Flash are used for this. The data is only updated if it is different from the buffer.</p>
<p>Word 12 is used to hold a count of the number of times the update has occurred. If more load blocks are needed this word can form the single entry in a dummy load block. </p>

</div>
</div>
<a id="a8f5eaac72e01db2e7475fdb129e3850a" name="a8f5eaac72e01db2e7475fdb129e3850a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f5eaac72e01db2e7475fdb129e3850a">&#9670;&#160;</a></span>proc_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proc_setup </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>d1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>d2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up networking. Handles remote request across CAN from BMP master. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">d1</td><td>Combined hardware version, count of zero IP netmask bits, and frame ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">d2</td><td>IP <em>gateway</em> address. (Local addresses derive from this, frame ID and board ID.) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="afa82536430726a63baaa34ff328df2af" name="afa82536430726a63baaa34ff328df2af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa82536430726a63baaa34ff328df2af">&#9670;&#160;</a></span>led_bit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t led_bit[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <a class="code hl_enumvalue" href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0a8312fbd732e656f38ddd252142c92424">LED_0</a>, <a class="code hl_enumvalue" href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0a11a9adb9054de1fe01d6a6750075f57b">LED_1</a>, <a class="code hl_enumvalue" href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0a00af6b2437d9982f1f125d2cc2537c41">LED_2</a>, <a class="code hl_enumvalue" href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0a3e1b1af0f74f675e4eb7bd18229adfd3">LED_3</a>,</div>
<div class="line">    <a class="code hl_enumvalue" href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0ada6e5fa936f81b6b94078ecc353a7f5f">LED_4</a>, <a class="code hl_enumvalue" href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0ab269092e5bd05f7b80e5970b81458289">LED_5</a>, <a class="code hl_enumvalue" href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0af99fc5674be734f3f51639902c341834">LED_6</a>, <a class="code hl_enumvalue" href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0ac498d3ff2225ba31b7b42e17b1676ba8">LED_7</a></div>
<div class="line">}</div>
<div class="ttc" id="abmp_8h_html_a4e51ca61406ef6cd0f1a7b88c7194bb0a00af6b2437d9982f1f125d2cc2537c41"><div class="ttname"><a href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0a00af6b2437d9982f1f125d2cc2537c41">LED_2</a></div><div class="ttdeci">@ LED_2</div><div class="ttdoc">Red.</div><div class="ttdef"><b>Definition:</b> bmp.h:67</div></div>
<div class="ttc" id="abmp_8h_html_a4e51ca61406ef6cd0f1a7b88c7194bb0a11a9adb9054de1fe01d6a6750075f57b"><div class="ttname"><a href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0a11a9adb9054de1fe01d6a6750075f57b">LED_1</a></div><div class="ttdeci">@ LED_1</div><div class="ttdoc">Orange.</div><div class="ttdef"><b>Definition:</b> bmp.h:66</div></div>
<div class="ttc" id="abmp_8h_html_a4e51ca61406ef6cd0f1a7b88c7194bb0a3e1b1af0f74f675e4eb7bd18229adfd3"><div class="ttname"><a href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0a3e1b1af0f74f675e4eb7bd18229adfd3">LED_3</a></div><div class="ttdeci">@ LED_3</div><div class="ttdoc">Green.</div><div class="ttdef"><b>Definition:</b> bmp.h:68</div></div>
<div class="ttc" id="abmp_8h_html_a4e51ca61406ef6cd0f1a7b88c7194bb0a8312fbd732e656f38ddd252142c92424"><div class="ttname"><a href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0a8312fbd732e656f38ddd252142c92424">LED_0</a></div><div class="ttdeci">@ LED_0</div><div class="ttdoc">Green.</div><div class="ttdef"><b>Definition:</b> bmp.h:65</div></div>
<div class="ttc" id="abmp_8h_html_a4e51ca61406ef6cd0f1a7b88c7194bb0ab269092e5bd05f7b80e5970b81458289"><div class="ttname"><a href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0ab269092e5bd05f7b80e5970b81458289">LED_5</a></div><div class="ttdeci">@ LED_5</div><div class="ttdoc">Green.</div><div class="ttdef"><b>Definition:</b> bmp.h:70</div></div>
<div class="ttc" id="abmp_8h_html_a4e51ca61406ef6cd0f1a7b88c7194bb0ac498d3ff2225ba31b7b42e17b1676ba8"><div class="ttname"><a href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0ac498d3ff2225ba31b7b42e17b1676ba8">LED_7</a></div><div class="ttdeci">@ LED_7</div><div class="ttdoc">Red.</div><div class="ttdef"><b>Definition:</b> bmp.h:72</div></div>
<div class="ttc" id="abmp_8h_html_a4e51ca61406ef6cd0f1a7b88c7194bb0ada6e5fa936f81b6b94078ecc353a7f5f"><div class="ttname"><a href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0ada6e5fa936f81b6b94078ecc353a7f5f">LED_4</a></div><div class="ttdeci">@ LED_4</div><div class="ttdoc">Green.</div><div class="ttdef"><b>Definition:</b> bmp.h:69</div></div>
<div class="ttc" id="abmp_8h_html_a4e51ca61406ef6cd0f1a7b88c7194bb0af99fc5674be734f3f51639902c341834"><div class="ttname"><a href="bmp_8h.html#a4e51ca61406ef6cd0f1a7b88c7194bb0af99fc5674be734f3f51639902c341834">LED_6</a></div><div class="ttdeci">@ LED_6</div><div class="ttdoc">Green.</div><div class="ttdef"><b>Definition:</b> bmp.h:71</div></div>
</div><!-- fragment -->
<p>Mapping from LED index to GPIO pin flags. </p>

</div>
</div>
<a id="a122436f698807991c9f23ee87936e108" name="a122436f698807991c9f23ee87936e108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a122436f698807991c9f23ee87936e108">&#9670;&#160;</a></span>can2board_0</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t can2board_0[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    0,  1,  2,  3,  4,  5,   0,  0,</div>
<div class="line">    6,  7,  8,  9,  10, 11,  0,  0,</div>
<div class="line">    12, 13, 14, 15, 16, 17,  0,  0,</div>
<div class="line">    18, 19, 20, 21, 22, 23,  0,  0</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Default mapping from CAN ID to board number, for <a class="el" href="bmp__hw_8c.html#a5991583fe7d6b81e3a14f8c72c617a53" title="Mapping from CAN ID to board number.">can2board</a>. </p>

</div>
</div>
<a id="a5ffdb602c9a6b286f6ea325cac64495a" name="a5ffdb602c9a6b286f6ea325cac64495a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ffdb602c9a6b286f6ea325cac64495a">&#9670;&#160;</a></span>board2can_0</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t board2can_0[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    0,  1,  2,  3,  4,  5,</div>
<div class="line">    8,  9, 10, 11, 12, 13,</div>
<div class="line">   16, 17, 18, 19, 20, 21,</div>
<div class="line">   24, 25, 26, 27, 28, 29</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Default mapping from board number to CAN ID, for <a class="el" href="bmp__hw_8c.html#a9b0f9fee0cabe6d7de99a9802c776412" title="Mapping from board number to CAN ID.">board2can</a>. </p>

</div>
</div>
<a id="a063fb0b1b59514f2e6f33b2d73a2292a" name="a063fb0b1b59514f2e6f33b2d73a2292a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a063fb0b1b59514f2e6f33b2d73a2292a">&#9670;&#160;</a></span>null_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t null_map[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    0,  1,  2,  3,  4,  5,  6,  7,</div>
<div class="line">    8,  9, 10, 11, 12, 13, 14, 15,</div>
<div class="line">   16, 17, 18, 19, 20, 21, 22, 23,</div>
<div class="line">   24, 25, 26, 27, 28, 29, 30, 31</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Null mapping, used when not in a frame. One-to-one. </p>

</div>
</div>
<a id="ab8e3252ba640c754c436486e184717ec" name="ab8e3252ba640c754c436486e184717ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8e3252ba640c754c436486e184717ec">&#9670;&#160;</a></span>ee_default</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="bmp_8h.html#structee__data__t">ee_data_t</a> ee_default</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    0x96,                       </div>
<div class="line">    0,                          </div>
<div class="line">    0,                          </div>
<div class="line">    240,                        </div>
<div class="line">    0,                          </div>
<div class="line">    {192, 168, 240, 254},       </div>
<div class="line">    0,                          </div>
<div class="line">    16,                         </div>
<div class="line">    0,                          </div>
<div class="line">    5,                          </div>
<div class="line">    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},   </div>
<div class="line">    {65, 65, 0, 0},             </div>
<div class="line">    {80, 80, 0, 0},             </div>
<div class="line">    {50, 50, 0, 0},             </div>
<div class="line">    {65, 65, 0, 0},             </div>
<div class="line">    {50, 50, 50, 0},            </div>
<div class="line">    {0, 0, 0, 0},               </div>
<div class="line">    {114, 114, 114, 114, 166, 184, 203, 184},   </div>
<div class="line">    {102, 102, 102, 102, 147, 164, 0,   0},     </div>
<div class="line">    {140, 140, 140, 140, 203, 225, 248, 225},   </div>
<div class="line">    {152, 152, 152, 152, 221, 246, 0, 0}        </div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Default "EEPROM" data, when EEPROM fails. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 8 2023 13:54:35 for spinnaker_tools (BMP) by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>

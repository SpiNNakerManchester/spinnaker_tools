<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>spinnaker_tools (BMP): bmp_event.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">spinnaker_tools (BMP)<span id="projectnumber">&#160;3.4.0</span>
   </div>
   <div id="projectbrief">SpiNNaker BMP firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">bmp_event.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Event handling routines for BMP LPC1768.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;lpc17xx.h&quot;</code><br />
<code>#include &quot;<a class="el" href="bmp_8h_source.html">bmp.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae769ca99bba831a6bfbf2e98d60aa1fb" id="r_ae769ca99bba831a6bfbf2e98d60aa1fb"><td class="memItemLeft" align="right" valign="top"><a id="ae769ca99bba831a6bfbf2e98d60aa1fb" name="ae769ca99bba831a6bfbf2e98d60aa1fb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_EVENTS</b>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:ae769ca99bba831a6bfbf2e98d60aa1fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of events available for use. <br /></td></tr>
<tr class="separator:ae769ca99bba831a6bfbf2e98d60aa1fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2c425c6a7b0606fe7a8e39dbdbb45a6b" id="r_a2c425c6a7b0606fe7a8e39dbdbb45a6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__event_8c.html#a2c425c6a7b0606fe7a8e39dbdbb45a6b">event_set_byte</a> (uint32_t addr, uint32_t data)</td></tr>
<tr class="memdesc:a2c425c6a7b0606fe7a8e39dbdbb45a6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a <em>byte</em> at an address.  <br /></td></tr>
<tr class="separator:a2c425c6a7b0606fe7a8e39dbdbb45a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ae0a88fe58b687489a2c6efc13a3d3" id="r_a77ae0a88fe58b687489a2c6efc13a3d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__event_8c.html#a77ae0a88fe58b687489a2c6efc13a3d3">event_init</a> (uint32_t priority)</td></tr>
<tr class="memdesc:a77ae0a88fe58b687489a2c6efc13a3d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the event processing system.  <br /></td></tr>
<tr class="separator:a77ae0a88fe58b687489a2c6efc13a3d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e35dd5d67b39b832fdf4c42f767c3e0" id="r_a4e35dd5d67b39b832fdf4c42f767c3e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__event_8c.html#a4e35dd5d67b39b832fdf4c42f767c3e0">proc_queue_add</a> (<a class="el" href="bmp_8h.html#structevent__t">event_t</a> *e)</td></tr>
<tr class="memdesc:a4e35dd5d67b39b832fdf4c42f767c3e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an event to a list of events which can (all) be executed at some later time.  <br /></td></tr>
<tr class="separator:a4e35dd5d67b39b832fdf4c42f767c3e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa542b009fec98fcfc381a66d590f1a79" id="r_aa542b009fec98fcfc381a66d590f1a79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__event_8c.html#aa542b009fec98fcfc381a66d590f1a79">proc_queue_run</a> (void)</td></tr>
<tr class="memdesc:aa542b009fec98fcfc381a66d590f1a79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a list of events (in the order in which they were added to the list).  <br /></td></tr>
<tr class="separator:aa542b009fec98fcfc381a66d590f1a79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa0645ef8198bcee197a6966c48efd8" id="r_aafa0645ef8198bcee197a6966c48efd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__event_8c.html#aafa0645ef8198bcee197a6966c48efd8">TIMER3_IRQHandler</a> (void)</td></tr>
<tr class="memdesc:aafa0645ef8198bcee197a6966c48efd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt handler for the timer which is handling events.  <br /></td></tr>
<tr class="separator:aafa0645ef8198bcee197a6966c48efd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9477910d6ffa7dc766e3ee80f3f093d8" id="r_a9477910d6ffa7dc766e3ee80f3f093d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__event_8c.html#a9477910d6ffa7dc766e3ee80f3f093d8">event_cancel</a> (<a class="el" href="bmp_8h.html#structevent__t">event_t</a> *e, uint32_t ID)</td></tr>
<tr class="memdesc:a9477910d6ffa7dc766e3ee80f3f093d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel an event that was previously scheduled.  <br /></td></tr>
<tr class="separator:a9477910d6ffa7dc766e3ee80f3f093d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30817e5076c8281f6c0498edb5097edc" id="r_a30817e5076c8281f6c0498edb5097edc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bmp_8h.html#structevent__t">event_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__event_8c.html#a30817e5076c8281f6c0498edb5097edc">event_new</a> (<a class="el" href="bmp_8h.html#a0ab88001d910cc9c3284eff2bd36016f">event_proc</a> proc, uint32_t arg1, uint32_t arg2)</td></tr>
<tr class="memdesc:a30817e5076c8281f6c0498edb5097edc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a new event.  <br /></td></tr>
<tr class="separator:a30817e5076c8281f6c0498edb5097edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30fbc4c57ece4d678f63e50a1e3354e3" id="r_a30fbc4c57ece4d678f63e50a1e3354e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__event_8c.html#a30fbc4c57ece4d678f63e50a1e3354e3">event_schedule</a> (<a class="el" href="bmp_8h.html#structevent__t">event_t</a> *e, uint32_t time)</td></tr>
<tr class="memdesc:a30fbc4c57ece4d678f63e50a1e3354e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules an event to occur some time in the future.  <br /></td></tr>
<tr class="separator:a30fbc4c57ece4d678f63e50a1e3354e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aafcddcf8bc53cb44fcb37a6bab9fd7ab" id="r_aafcddcf8bc53cb44fcb37a6bab9fd7ab"><td class="memItemLeft" align="right" valign="top"><a id="aafcddcf8bc53cb44fcb37a6bab9fd7ab" name="aafcddcf8bc53cb44fcb37a6bab9fd7ab"></a>
static <a class="el" href="bmp_8h.html#structevent__t">event_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>event_list</b></td></tr>
<tr class="memdesc:aafcddcf8bc53cb44fcb37a6bab9fd7ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of free events. <br /></td></tr>
<tr class="separator:aafcddcf8bc53cb44fcb37a6bab9fd7ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab423478008087a5b8b0e0b68dd28a93b" id="r_ab423478008087a5b8b0e0b68dd28a93b"><td class="memItemLeft" align="right" valign="top"><a id="ab423478008087a5b8b0e0b68dd28a93b" name="ab423478008087a5b8b0e0b68dd28a93b"></a>
static <a class="el" href="bmp_8h.html#structevent__t">event_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>event_queue</b></td></tr>
<tr class="memdesc:ab423478008087a5b8b0e0b68dd28a93b"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of active events. <br /></td></tr>
<tr class="separator:ab423478008087a5b8b0e0b68dd28a93b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3975702f79227dfc64672ddc0f73bb26" id="r_a3975702f79227dfc64672ddc0f73bb26"><td class="memItemLeft" align="right" valign="top"><a id="a3975702f79227dfc64672ddc0f73bb26" name="a3975702f79227dfc64672ddc0f73bb26"></a>
static <a class="el" href="bmp_8h.html#structevent__t">event_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>proc_head</b></td></tr>
<tr class="memdesc:a3975702f79227dfc64672ddc0f73bb26"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of queued "proc" events. <br /></td></tr>
<tr class="separator:a3975702f79227dfc64672ddc0f73bb26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e3358d9ba77043dd6cbad38f22cbce" id="r_ae4e3358d9ba77043dd6cbad38f22cbce"><td class="memItemLeft" align="right" valign="top"><a id="ae4e3358d9ba77043dd6cbad38f22cbce" name="ae4e3358d9ba77043dd6cbad38f22cbce"></a>
static <a class="el" href="bmp_8h.html#structevent__t">event_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>proc_tail</b></td></tr>
<tr class="memdesc:ae4e3358d9ba77043dd6cbad38f22cbce"><td class="mdescLeft">&#160;</td><td class="mdescRight">and tail of that list <br /></td></tr>
<tr class="separator:ae4e3358d9ba77043dd6cbad38f22cbce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e0576d41261fd5d51b5cf6b49f4114" id="r_af5e0576d41261fd5d51b5cf6b49f4114"><td class="memItemLeft" align="right" valign="top"><a id="af5e0576d41261fd5d51b5cf6b49f4114" name="af5e0576d41261fd5d51b5cf6b49f4114"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>event_id</b></td></tr>
<tr class="memdesc:af5e0576d41261fd5d51b5cf6b49f4114"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes unique ID for active events. <br /></td></tr>
<tr class="separator:af5e0576d41261fd5d51b5cf6b49f4114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5121a73424dd80182da3569fd3404324" id="r_a5121a73424dd80182da3569fd3404324"><td class="memItemLeft" align="right" valign="top"><a id="a5121a73424dd80182da3569fd3404324" name="a5121a73424dd80182da3569fd3404324"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>event_count</b></td></tr>
<tr class="memdesc:a5121a73424dd80182da3569fd3404324"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of events currently in use. <br /></td></tr>
<tr class="separator:a5121a73424dd80182da3569fd3404324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1b66b94d621dea71af4e5efeab26aa" id="r_abc1b66b94d621dea71af4e5efeab26aa"><td class="memItemLeft" align="right" valign="top"><a id="abc1b66b94d621dea71af4e5efeab26aa" name="abc1b66b94d621dea71af4e5efeab26aa"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>event_max</b></td></tr>
<tr class="memdesc:abc1b66b94d621dea71af4e5efeab26aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number ever used. <br /></td></tr>
<tr class="separator:abc1b66b94d621dea71af4e5efeab26aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e01528e093562ee97b6cd18693faa72" id="r_a2e01528e093562ee97b6cd18693faa72"><td class="memItemLeft" align="right" valign="top"><a id="a2e01528e093562ee97b6cd18693faa72" name="a2e01528e093562ee97b6cd18693faa72"></a>
static <a class="el" href="bmp_8h.html#structevent__t">event_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>events</b> [<a class="el" href="bmp__event_8c.html#ae769ca99bba831a6bfbf2e98d60aa1fb">NUM_EVENTS</a>]</td></tr>
<tr class="memdesc:a2e01528e093562ee97b6cd18693faa72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Storage for events. <br /></td></tr>
<tr class="separator:a2e01528e093562ee97b6cd18693faa72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Event handling routines for BMP LPC1768. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>&copy; The University of Manchester - 2012-2015</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Steve Temple, APT Group, School of Computer Science </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2c425c6a7b0606fe7a8e39dbdbb45a6b" name="a2c425c6a7b0606fe7a8e39dbdbb45a6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c425c6a7b0606fe7a8e39dbdbb45a6b">&#9670;&#160;</a></span>event_set_byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_set_byte </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a <em>byte</em> at an address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>The address to write at. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The value to write there. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77ae0a88fe58b687489a2c6efc13a3d3" name="a77ae0a88fe58b687489a2c6efc13a3d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77ae0a88fe58b687489a2c6efc13a3d3">&#9670;&#160;</a></span>event_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>priority</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the event processing system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priority</td><td>Priority to use for the driving timer interrupt </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4e35dd5d67b39b832fdf4c42f767c3e0" name="a4e35dd5d67b39b832fdf4c42f767c3e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e35dd5d67b39b832fdf4c42f767c3e0">&#9670;&#160;</a></span>proc_queue_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proc_queue_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bmp_8h.html#structevent__t">event_t</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds an event to a list of events which can (all) be executed at some later time. </p>
<p>The order of execution is the same as that of addition to the list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">e</td><td>The event to add. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa542b009fec98fcfc381a66d590f1a79" name="aa542b009fec98fcfc381a66d590f1a79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa542b009fec98fcfc381a66d590f1a79">&#9670;&#160;</a></span>proc_queue_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proc_queue_run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute a list of events (in the order in which they were added to the list). </p>
<p>Events are returned to the free queue after execution. </p>

</div>
</div>
<a id="aafa0645ef8198bcee197a6966c48efd8" name="aafa0645ef8198bcee197a6966c48efd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafa0645ef8198bcee197a6966c48efd8">&#9670;&#160;</a></span>TIMER3_IRQHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TIMER3_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt handler for the timer which is handling events. </p>
<p>Timer 3 interrupt handler.</p>
<p>Events added to the queue while this interrupt is processing will not be processed until the <em>next</em> time this interrupt is called. </p>

</div>
</div>
<a id="a9477910d6ffa7dc766e3ee80f3f093d8" name="a9477910d6ffa7dc766e3ee80f3f093d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9477910d6ffa7dc766e3ee80f3f093d8">&#9670;&#160;</a></span>event_cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bmp_8h.html#structevent__t">event_t</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel an event that was previously scheduled. </p>
<p>The ID that was allocated when the event was created must be given in case the event has already executed and possibly been recycled.</p>
<p>It is potentially quite difficult to cancel an event at the head of the event queue so in this case the "proc" is made NULL and the event left to terminate on the timer interrupt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">e</td><td>The event to cancel. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ID</td><td>The ID that the event is expected to have. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a30817e5076c8281f6c0498edb5097edc" name="a30817e5076c8281f6c0498edb5097edc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30817e5076c8281f6c0498edb5097edc">&#9670;&#160;</a></span>event_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bmp_8h.html#structevent__t">event_t</a> * event_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bmp_8h.html#a0ab88001d910cc9c3284eff2bd36016f">event_proc</a>&#160;</td>
          <td class="paramname"><em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>arg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>arg2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a new event. </p>
<p>Allocates a new event from the free queue and intialise "proc", "arg1" and "arg2" fields. The "ID", "next" and "time" fields are also set. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">proc</td><td>The event handler </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg1</td><td>First argument to pass to <code>proc</code> when event fires </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg2</td><td>Second argument to pass to <code>proc</code> when event fires </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The allocated event, or <code>NULL</code> if no event can be allocated </dd></dl>

</div>
</div>
<a id="a30fbc4c57ece4d678f63e50a1e3354e3" name="a30fbc4c57ece4d678f63e50a1e3354e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30fbc4c57ece4d678f63e50a1e3354e3">&#9670;&#160;</a></span>event_schedule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bmp_8h.html#structevent__t">event_t</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules an event to occur some time in the future. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">e</td><td>The event to schedule </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>How many &mu;s in the future to schedule the event firing at </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2024 11:14:56 for spinnaker_tools (BMP) by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>

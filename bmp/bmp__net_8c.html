<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>spinnaker_tools (BMP): bmp_net.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">spinnaker_tools (BMP)<span id="projectnumber">&#160;latest</span>
   </div>
   <div id="projectbrief">SpiNNaker BMP firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">bmp_net.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Networking code for BMP LPC1768.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;lpc17xx.h&quot;</code><br />
<code>#include &quot;<a class="el" href="bmp_8h_source.html">bmp.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structarp__pkt__t" id="r_structarp__pkt__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#structarp__pkt__t">arp_pkt_t</a></td></tr>
<tr class="memdesc:structarp__pkt__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">ARP packet definition.  <a href="bmp__net_8c.html#structarp__pkt__t">More...</a><br /></td></tr>
<tr class="separator:structarp__pkt__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structudp__hdr__t" id="r_structudp__hdr__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#structudp__hdr__t">udp_hdr_t</a></td></tr>
<tr class="memdesc:structudp__hdr__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">UDP header.  <a href="bmp__net_8c.html#structudp__hdr__t">More...</a><br /></td></tr>
<tr class="separator:structudp__hdr__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structicmp__hdr__t" id="r_structicmp__hdr__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#structicmp__hdr__t">icmp_hdr_t</a></td></tr>
<tr class="memdesc:structicmp__hdr__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICMP header; only ECHO request and reply are supported.  <a href="bmp__net_8c.html#structicmp__hdr__t">More...</a><br /></td></tr>
<tr class="separator:structicmp__hdr__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structmac__hdr__t" id="r_structmac__hdr__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#structmac__hdr__t">mac_hdr_t</a></td></tr>
<tr class="memdesc:structmac__hdr__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ethernet packet header; will be followed by <a class="el" href="bmp__net_8c.html#structip__hdr__t" title="IP header; will be followed by udp_hdr_t or icmp_hdr_t.">ip_hdr_t</a> or <a class="el" href="bmp__net_8c.html#structarp__pkt__t" title="ARP packet definition.">arp_pkt_t</a>.  <a href="bmp__net_8c.html#structmac__hdr__t">More...</a><br /></td></tr>
<tr class="separator:structmac__hdr__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structip__hdr__t" id="r_structip__hdr__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#structip__hdr__t">ip_hdr_t</a></td></tr>
<tr class="memdesc:structip__hdr__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">IP header; will be followed by <a class="el" href="bmp__net_8c.html#structudp__hdr__t" title="UDP header.">udp_hdr_t</a> or <a class="el" href="bmp__net_8c.html#structicmp__hdr__t" title="ICMP header; only ECHO request and reply are supported.">icmp_hdr_t</a>.  <a href="bmp__net_8c.html#structip__hdr__t">More...</a><br /></td></tr>
<tr class="separator:structip__hdr__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structmsg__queue__t" id="r_structmsg__queue__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#structmsg__queue__t">msg_queue_t</a></td></tr>
<tr class="memdesc:structmsg__queue__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the message queue. This is a circular buffer.  <a href="bmp__net_8c.html#structmsg__queue__t">More...</a><br /></td></tr>
<tr class="separator:structmsg__queue__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a01c960bb7a9c97f20cf104ae53df0ec2" id="r_a01c960bb7a9c97f20cf104ae53df0ec2"><td class="memItemLeft" align="right" valign="top"><a id="a01c960bb7a9c97f20cf104ae53df0ec2" name="a01c960bb7a9c97f20cf104ae53df0ec2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ETHERNET_SIZE_MAX</b>&#160;&#160;&#160;384</td></tr>
<tr class="memdesc:a01c960bb7a9c97f20cf104ae53df0ec2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum size of ethernet message. Larger messages are ignored. <br /></td></tr>
<tr class="separator:a01c960bb7a9c97f20cf104ae53df0ec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae886ad5b9af398395184d1bf093481c6" id="r_ae886ad5b9af398395184d1bf093481c6"><td class="memItemLeft" align="right" valign="top"><a id="ae886ad5b9af398395184d1bf093481c6" name="ae886ad5b9af398395184d1bf093481c6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ntohs</b>(t)&#160;&#160;&#160;((((t) &amp; 0x00ff) &lt;&lt; 8) | (((t) &amp; 0xff00) &gt;&gt; 8))</td></tr>
<tr class="memdesc:ae886ad5b9af398395184d1bf093481c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byteswap: network to host short. <br /></td></tr>
<tr class="separator:ae886ad5b9af398395184d1bf093481c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae73de95a4f522c1dace01eab8ae063" id="r_a9ae73de95a4f522c1dace01eab8ae063"><td class="memItemLeft" align="right" valign="top"><a id="a9ae73de95a4f522c1dace01eab8ae063" name="a9ae73de95a4f522c1dace01eab8ae063"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>htons</b>(t)&#160;&#160;&#160;((((t) &amp; 0x00ff) &lt;&lt; 8) | (((t) &amp; 0xff00) &gt;&gt; 8))</td></tr>
<tr class="memdesc:a9ae73de95a4f522c1dace01eab8ae063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byteswap: host to network short. <br /></td></tr>
<tr class="separator:a9ae73de95a4f522c1dace01eab8ae063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae579a5ad7fb0ff17f20040408519595f" id="r_ae579a5ad7fb0ff17f20040408519595f"><td class="memItemLeft" align="right" valign="top"><a id="ae579a5ad7fb0ff17f20040408519595f" name="ae579a5ad7fb0ff17f20040408519595f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAC_HDR_SIZE</b>&#160;&#160;&#160;14</td></tr>
<tr class="memdesc:ae579a5ad7fb0ff17f20040408519595f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of Ethernet header (<a class="el" href="bmp__net_8c.html#structmac__hdr__t" title="Ethernet packet header; will be followed by ip_hdr_t or arp_pkt_t.">mac_hdr_t</a>) <br /></td></tr>
<tr class="separator:ae579a5ad7fb0ff17f20040408519595f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0808a5516425f113c81b53a6ed2f833" id="r_aa0808a5516425f113c81b53a6ed2f833"><td class="memItemLeft" align="right" valign="top"><a id="aa0808a5516425f113c81b53a6ed2f833" name="aa0808a5516425f113c81b53a6ed2f833"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IP_HDR_SIZE</b>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:aa0808a5516425f113c81b53a6ed2f833"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of IP header (<a class="el" href="bmp__net_8c.html#structip__hdr__t" title="IP header; will be followed by udp_hdr_t or icmp_hdr_t.">ip_hdr_t</a>) <br /></td></tr>
<tr class="separator:aa0808a5516425f113c81b53a6ed2f833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46709678ac30a9f888021f6342cf735" id="r_ac46709678ac30a9f888021f6342cf735"><td class="memItemLeft" align="right" valign="top"><a id="ac46709678ac30a9f888021f6342cf735" name="ac46709678ac30a9f888021f6342cf735"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>UDP_HDR_SIZE</b>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:ac46709678ac30a9f888021f6342cf735"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of UDP header (<a class="el" href="bmp__net_8c.html#structudp__hdr__t" title="UDP header.">udp_hdr_t</a>) <br /></td></tr>
<tr class="separator:ac46709678ac30a9f888021f6342cf735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0e0a590679ece550e1d2d911b2d7ac" id="r_afe0e0a590679ece550e1d2d911b2d7ac"><td class="memItemLeft" align="right" valign="top"><a id="afe0e0a590679ece550e1d2d911b2d7ac" name="afe0e0a590679ece550e1d2d911b2d7ac"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SDP_PAD_SIZE</b>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:afe0e0a590679ece550e1d2d911b2d7ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of SDP header (<a class="el" href="bmp_8h.html#structsdp__msg__t" title="SDP message type definition.">sdp_msg_t</a>) <br /></td></tr>
<tr class="separator:afe0e0a590679ece550e1d2d911b2d7ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbb1dd69f122027f6d5a02e0392b578" id="r_a5dbb1dd69f122027f6d5a02e0392b578"><td class="memItemLeft" align="right" valign="top"><a id="a5dbb1dd69f122027f6d5a02e0392b578" name="a5dbb1dd69f122027f6d5a02e0392b578"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IP_HDR_OFFSET</b>&#160;&#160;&#160;<a class="el" href="bmp__net_8c.html#ae579a5ad7fb0ff17f20040408519595f">MAC_HDR_SIZE</a></td></tr>
<tr class="memdesc:a5dbb1dd69f122027f6d5a02e0392b578"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset to IP header in Ethernet packet. <br /></td></tr>
<tr class="separator:a5dbb1dd69f122027f6d5a02e0392b578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0cd9060f69d166083ac2cdbbeafd32b" id="r_ab0cd9060f69d166083ac2cdbbeafd32b"><td class="memItemLeft" align="right" valign="top"><a id="ab0cd9060f69d166083ac2cdbbeafd32b" name="ab0cd9060f69d166083ac2cdbbeafd32b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IP_DATA_OFFSET</b>&#160;&#160;&#160;(<a class="el" href="bmp__net_8c.html#a5dbb1dd69f122027f6d5a02e0392b578">IP_HDR_OFFSET</a> + <a class="el" href="bmp__net_8c.html#aa0808a5516425f113c81b53a6ed2f833">IP_HDR_SIZE</a>)</td></tr>
<tr class="memdesc:ab0cd9060f69d166083ac2cdbbeafd32b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset to IP body in Ethernet packet. <br /></td></tr>
<tr class="separator:ab0cd9060f69d166083ac2cdbbeafd32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c0c6407060accff93f4212fa83bdbd" id="r_ab6c0c6407060accff93f4212fa83bdbd"><td class="memItemLeft" align="right" valign="top"><a id="ab6c0c6407060accff93f4212fa83bdbd" name="ab6c0c6407060accff93f4212fa83bdbd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>UDP_HDR_OFFSET</b>&#160;&#160;&#160;<a class="el" href="bmp__net_8c.html#ab0cd9060f69d166083ac2cdbbeafd32b">IP_DATA_OFFSET</a></td></tr>
<tr class="memdesc:ab6c0c6407060accff93f4212fa83bdbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset to UDP header in Ethernet packet. <br /></td></tr>
<tr class="separator:ab6c0c6407060accff93f4212fa83bdbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad80ecbe34882013daaf1f4cd7091ba9c" id="r_ad80ecbe34882013daaf1f4cd7091ba9c"><td class="memItemLeft" align="right" valign="top"><a id="ad80ecbe34882013daaf1f4cd7091ba9c" name="ad80ecbe34882013daaf1f4cd7091ba9c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>UDP_DATA_OFFSET</b>&#160;&#160;&#160;(<a class="el" href="bmp__net_8c.html#ab6c0c6407060accff93f4212fa83bdbd">UDP_HDR_OFFSET</a> + <a class="el" href="bmp__net_8c.html#ac46709678ac30a9f888021f6342cf735">UDP_HDR_SIZE</a>)</td></tr>
<tr class="memdesc:ad80ecbe34882013daaf1f4cd7091ba9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset to UDP body in Ethernet packet. <br /></td></tr>
<tr class="separator:ad80ecbe34882013daaf1f4cd7091ba9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8259bbeef0c598730055df66c5e7e9e5" id="r_a8259bbeef0c598730055df66c5e7e9e5"><td class="memItemLeft" align="right" valign="top"><a id="a8259bbeef0c598730055df66c5e7e9e5" name="a8259bbeef0c598730055df66c5e7e9e5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_MSGS</b>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:a8259bbeef0c598730055df66c5e7e9e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of messages we have allocated. <br /></td></tr>
<tr class="separator:a8259bbeef0c598730055df66c5e7e9e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa24597a54a085c6c2c33b64138f09eff" id="r_aa24597a54a085c6c2c33b64138f09eff"><td class="memItemLeft" align="right" valign="top"><a id="aa24597a54a085c6c2c33b64138f09eff" name="aa24597a54a085c6c2c33b64138f09eff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_MSG</b>&#160;&#160;&#160;(<a class="el" href="bmp__net_8c.html#a8259bbeef0c598730055df66c5e7e9e5">NUM_MSGS</a> - 1)</td></tr>
<tr class="memdesc:aa24597a54a085c6c2c33b64138f09eff"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum message number, for allocation purposes. <br /></td></tr>
<tr class="separator:aa24597a54a085c6c2c33b64138f09eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde82a27f94559697229d371881c4688" id="r_acde82a27f94559697229d371881c4688"><td class="memItemLeft" align="right" valign="top"><a id="acde82a27f94559697229d371881c4688" name="acde82a27f94559697229d371881c4688"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MSG_QUEUE_SIZE</b>&#160;&#160;&#160;<a class="el" href="bmp__net_8c.html#a8259bbeef0c598730055df66c5e7e9e5">NUM_MSGS</a></td></tr>
<tr class="memdesc:acde82a27f94559697229d371881c4688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the message queue. <br /></td></tr>
<tr class="separator:acde82a27f94559697229d371881c4688"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a6e4fa7ebf0ed6f50966370e592907b59" id="r_a6e4fa7ebf0ed6f50966370e592907b59"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a6e4fa7ebf0ed6f50966370e592907b59">ethernet_packet_types</a> { <a class="el" href="bmp__net_8c.html#a6e4fa7ebf0ed6f50966370e592907b59a7190d59d73810bd1e32982732e580f75">ETYPE_IP</a> = 0x0800
, <a class="el" href="bmp__net_8c.html#a6e4fa7ebf0ed6f50966370e592907b59a6c3c81f6e328c6f491c1843e80457803">ETYPE_ARP</a> = 0x0806
 }</td></tr>
<tr class="memdesc:a6e4fa7ebf0ed6f50966370e592907b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Types of Ethernet packets we understand.  <a href="bmp__net_8c.html#a6e4fa7ebf0ed6f50966370e592907b59">More...</a><br /></td></tr>
<tr class="separator:a6e4fa7ebf0ed6f50966370e592907b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8cab66cfbf56f6876450ed442b49b22" id="r_ab8cab66cfbf56f6876450ed442b49b22"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#ab8cab66cfbf56f6876450ed442b49b22">internet_protocol_packet_types</a> { <a class="el" href="bmp__net_8c.html#ab8cab66cfbf56f6876450ed442b49b22ac67e8dad398350acb67a621e30b32231">PROT_ICMP</a> = 1
, <a class="el" href="bmp__net_8c.html#ab8cab66cfbf56f6876450ed442b49b22a91d72e4cf7f966740ce9edb877d47d48">PROT_UDP</a> = 17
 }</td></tr>
<tr class="memdesc:ab8cab66cfbf56f6876450ed442b49b22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Types of IP packets we understand.  <a href="bmp__net_8c.html#ab8cab66cfbf56f6876450ed442b49b22">More...</a><br /></td></tr>
<tr class="separator:ab8cab66cfbf56f6876450ed442b49b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d5e7bbceeb34b737fc33d56a431881" id="r_a23d5e7bbceeb34b737fc33d56a431881"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a23d5e7bbceeb34b737fc33d56a431881">arp_opcodes</a> { <a class="el" href="bmp__net_8c.html#a23d5e7bbceeb34b737fc33d56a431881a0a03fee3e6fbd313c27a1eaeaadec0d0">ARP_REQ</a> = 1
, <a class="el" href="bmp__net_8c.html#a23d5e7bbceeb34b737fc33d56a431881a8bb24a026264a5b22435864179f874d9">ARP_REPLY</a> = 2
 }</td></tr>
<tr class="memdesc:a23d5e7bbceeb34b737fc33d56a431881"><td class="mdescLeft">&#160;</td><td class="mdescRight">ARP operations we know about.  <a href="bmp__net_8c.html#a23d5e7bbceeb34b737fc33d56a431881">More...</a><br /></td></tr>
<tr class="separator:a23d5e7bbceeb34b737fc33d56a431881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f0a29ae57426692655eb0c53846e98e" id="r_a3f0a29ae57426692655eb0c53846e98e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a3f0a29ae57426692655eb0c53846e98e">icmp_commands</a> { <a class="el" href="bmp__net_8c.html#a3f0a29ae57426692655eb0c53846e98ea040ff029e5746bdc1b9fd08db66b3b47">ICMP_ECHO_REPLY</a> = 0
, <a class="el" href="bmp__net_8c.html#a3f0a29ae57426692655eb0c53846e98ea320cdcc66927483a6dd32aea2c1d0e1d">ICMP_ECHO_REQ</a> = 8
 }</td></tr>
<tr class="memdesc:a3f0a29ae57426692655eb0c53846e98e"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICMP operations we know about.  <a href="bmp__net_8c.html#a3f0a29ae57426692655eb0c53846e98e">More...</a><br /></td></tr>
<tr class="separator:a3f0a29ae57426692655eb0c53846e98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8ae59f093736c1ceb74e1e3c198489c3" id="r_a8ae59f093736c1ceb74e1e3c198489c3"><td class="memItemLeft" align="right" valign="top"><a id="a8ae59f093736c1ceb74e1e3c198489c3" name="a8ae59f093736c1ceb74e1e3c198489c3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>msg_init</b> (void)</td></tr>
<tr class="memdesc:a8ae59f093736c1ceb74e1e3c198489c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the message queue. <br /></td></tr>
<tr class="separator:a8ae59f093736c1ceb74e1e3c198489c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b5d00e6cd65caacabad3dac9dfedad" id="r_af8b5d00e6cd65caacabad3dac9dfedad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#af8b5d00e6cd65caacabad3dac9dfedad">msg_get</a> (void)</td></tr>
<tr class="memdesc:af8b5d00e6cd65caacabad3dac9dfedad"><td class="mdescLeft">&#160;</td><td class="mdescRight">"Allocate" a message from the free message pool  <br /></td></tr>
<tr class="separator:af8b5d00e6cd65caacabad3dac9dfedad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6faeba1f6e2c3e00b36177b468f32e17" id="r_a6faeba1f6e2c3e00b36177b468f32e17"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a6faeba1f6e2c3e00b36177b468f32e17">msg_free</a> (<a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *msg)</td></tr>
<tr class="memdesc:a6faeba1f6e2c3e00b36177b468f32e17"><td class="mdescLeft">&#160;</td><td class="mdescRight">"Free" a message, returning it to the free message pool  <br /></td></tr>
<tr class="separator:a6faeba1f6e2c3e00b36177b468f32e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c15f3010740b94a3e680d266de41cf9" id="r_a6c15f3010740b94a3e680d266de41cf9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a6c15f3010740b94a3e680d266de41cf9">msg_queue_insert</a> (<a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *msg)</td></tr>
<tr class="memdesc:a6c15f3010740b94a3e680d266de41cf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a message in the message queue.  <br /></td></tr>
<tr class="separator:a6c15f3010740b94a3e680d266de41cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090fcdef5c3bb3211aca917a93f8a42e" id="r_a090fcdef5c3bb3211aca917a93f8a42e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a090fcdef5c3bb3211aca917a93f8a42e">msg_queue_remove</a> (void)</td></tr>
<tr class="memdesc:a090fcdef5c3bb3211aca917a93f8a42e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a message from the head of the message queue and remove it from the queue.  <br /></td></tr>
<tr class="separator:a090fcdef5c3bb3211aca917a93f8a42e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a748f2a898cce4c26d61316a12a3a5459" id="r_a748f2a898cce4c26d61316a12a3a5459"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a748f2a898cce4c26d61316a12a3a5459">msg_queue_size</a> (void)</td></tr>
<tr class="memdesc:a748f2a898cce4c26d61316a12a3a5459"><td class="mdescLeft">&#160;</td><td class="mdescRight">How big is the message queue?  <br /></td></tr>
<tr class="separator:a748f2a898cce4c26d61316a12a3a5459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79be76b7d82e0ed435ce853404c2ef1e" id="r_a79be76b7d82e0ed435ce853404c2ef1e"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a79be76b7d82e0ed435ce853404c2ef1e">ipsum</a> (const uint8_t *d, uint32_t len, uint32_t sum)</td></tr>
<tr class="memdesc:a79be76b7d82e0ed435ce853404c2ef1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute a checksum using IP rules.  <br /></td></tr>
<tr class="separator:a79be76b7d82e0ed435ce853404c2ef1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849e30255c32352684bec03e28231cda" id="r_a849e30255c32352684bec03e28231cda"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a849e30255c32352684bec03e28231cda">copy_mac</a> (const uint8_t *restrict f, uint8_t *restrict t)</td></tr>
<tr class="memdesc:a849e30255c32352684bec03e28231cda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy MAC address.  <br /></td></tr>
<tr class="separator:a849e30255c32352684bec03e28231cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b10ab0c99432fe3727d44ca0f4d6a15" id="r_a5b10ab0c99432fe3727d44ca0f4d6a15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a5b10ab0c99432fe3727d44ca0f4d6a15">copy_ip</a> (const uint8_t *restrict f, uint8_t *restrict t)</td></tr>
<tr class="memdesc:a5b10ab0c99432fe3727d44ca0f4d6a15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy IP address.  <br /></td></tr>
<tr class="separator:a5b10ab0c99432fe3727d44ca0f4d6a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b7351ba22c52901be25c08a123e0568" id="r_a7b7351ba22c52901be25c08a123e0568"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a7b7351ba22c52901be25c08a123e0568">cmp_ip</a> (const uint8_t *a, const uint8_t *b)</td></tr>
<tr class="memdesc:a7b7351ba22c52901be25c08a123e0568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two IP addresses.  <br /></td></tr>
<tr class="separator:a7b7351ba22c52901be25c08a123e0568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43cf35e1883ddb6aeef2c36aa5d08be3" id="r_a43cf35e1883ddb6aeef2c36aa5d08be3"><td class="memItemLeft" align="right" valign="top"><a id="a43cf35e1883ddb6aeef2c36aa5d08be3" name="a43cf35e1883ddb6aeef2c36aa5d08be3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>iptag_timer</b> (void)</td></tr>
<tr class="memdesc:a43cf35e1883ddb6aeef2c36aa5d08be3"><td class="mdescLeft">&#160;</td><td class="mdescRight">IPTag timeout tick. Called from <a class="el" href="bmp__main_8c.html#adcedb2428ba0bdf7bc7586d452d129e4" title="100Hz timer tick callback">proc_100hz()</a> every 10ms. <br /></td></tr>
<tr class="separator:a43cf35e1883ddb6aeef2c36aa5d08be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7613dc82f6c30f65f0c9566c6f3e2561" id="r_a7613dc82f6c30f65f0c9566c6f3e2561"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a7613dc82f6c30f65f0c9566c6f3e2561">iptag_new</a> (void)</td></tr>
<tr class="memdesc:a7613dc82f6c30f65f0c9566c6f3e2561"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a transient IPTag.  <br /></td></tr>
<tr class="separator:a7613dc82f6c30f65f0c9566c6f3e2561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c497f5a7f826451130bf7b7fcd1d44" id="r_a87c497f5a7f826451130bf7b7fcd1d44"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a87c497f5a7f826451130bf7b7fcd1d44">transient_tag</a> (uint8_t *ip, uint8_t *mac, uint32_t port, uint32_t timeout)</td></tr>
<tr class="memdesc:a87c497f5a7f826451130bf7b7fcd1d44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialise a transient IPTag.  <br /></td></tr>
<tr class="separator:a87c497f5a7f826451130bf7b7fcd1d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f8f19be138e1de0b69230e13a393a4" id="r_a17f8f19be138e1de0b69230e13a393a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a17f8f19be138e1de0b69230e13a393a4">copy_ip_hdr</a> (uint8_t *dest, uint32_t prot, <a class="el" href="bmp__net_8c.html#structip__hdr__t">ip_hdr_t</a> *ip, uint32_t len)</td></tr>
<tr class="memdesc:a17f8f19be138e1de0b69230e13a393a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise IP header information.  <br /></td></tr>
<tr class="separator:a17f8f19be138e1de0b69230e13a393a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac58136782bad44c5cce4c16d0a00549e" id="r_ac58136782bad44c5cce4c16d0a00549e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#ac58136782bad44c5cce4c16d0a00549e">copy_udp</a> (uint8_t *buf, uint32_t len, uint32_t dest, uint32_t srce)</td></tr>
<tr class="memdesc:ac58136782bad44c5cce4c16d0a00549e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise UDP header information.  <br /></td></tr>
<tr class="separator:ac58136782bad44c5cce4c16d0a00549e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c68410446378b6f314f0f3c893df9c2" id="r_a9c68410446378b6f314f0f3c893df9c2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a9c68410446378b6f314f0f3c893df9c2">eth_transmit</a> (uint8_t *buf, uint32_t len, uint32_t type, const uint8_t *dest)</td></tr>
<tr class="memdesc:a9c68410446378b6f314f0f3c893df9c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an <em>ethernet</em> packet.  <br /></td></tr>
<tr class="separator:a9c68410446378b6f314f0f3c893df9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08b1c5cd8441873b62ff27bd42a8639f" id="r_a08b1c5cd8441873b62ff27bd42a8639f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a08b1c5cd8441873b62ff27bd42a8639f">send_arp_pkt</a> (uint8_t *buf, const uint8_t *dest, const uint8_t *tha, const uint8_t *tpa, uint32_t type)</td></tr>
<tr class="memdesc:a08b1c5cd8441873b62ff27bd42a8639f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an ARP packet.  <br /></td></tr>
<tr class="separator:a08b1c5cd8441873b62ff27bd42a8639f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abefd7291f56e6ada58315a15caff9c3c" id="r_abefd7291f56e6ada58315a15caff9c3c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#abefd7291f56e6ada58315a15caff9c3c">arp_pkt</a> (uint8_t *buf, uint32_t rx_len)</td></tr>
<tr class="memdesc:abefd7291f56e6ada58315a15caff9c3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a received ARP packet.  <br /></td></tr>
<tr class="separator:abefd7291f56e6ada58315a15caff9c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d683f5a1cdf360eb3b76a7c1d85b69" id="r_a16d683f5a1cdf360eb3b76a7c1d85b69"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a16d683f5a1cdf360eb3b76a7c1d85b69">icmp_pkt</a> (uint8_t *buf, uint32_t rx_len)</td></tr>
<tr class="memdesc:a16d683f5a1cdf360eb3b76a7c1d85b69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a received ICMP packet.  <br /></td></tr>
<tr class="separator:a16d683f5a1cdf360eb3b76a7c1d85b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525cfcfa6ca5673269ad2ad90ecdb5fb" id="r_a525cfcfa6ca5673269ad2ad90ecdb5fb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a525cfcfa6ca5673269ad2ad90ecdb5fb">udp_pkt</a> (uint8_t *rx_pkt, uint32_t rx_len)</td></tr>
<tr class="memdesc:a525cfcfa6ca5673269ad2ad90ecdb5fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a received UDP packet.  <br /></td></tr>
<tr class="separator:a525cfcfa6ca5673269ad2ad90ecdb5fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e6a70b18b433ae903057a4e151c4ab8" id="r_a9e6a70b18b433ae903057a4e151c4ab8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a9e6a70b18b433ae903057a4e151c4ab8">eth_receive</a> (void)</td></tr>
<tr class="memdesc:a9e6a70b18b433ae903057a4e151c4ab8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a packet off the ethernet hardware.  <br /></td></tr>
<tr class="separator:a9e6a70b18b433ae903057a4e151c4ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d00cfbf5a23d9b5c93810868c2f359a" id="r_a4d00cfbf5a23d9b5c93810868c2f359a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a4d00cfbf5a23d9b5c93810868c2f359a">eth_transmit2</a> (uint8_t *hdr, uint8_t *buf, uint32_t len, uint8_t *dest)</td></tr>
<tr class="memdesc:a4d00cfbf5a23d9b5c93810868c2f359a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an <em>ethernet</em> message.  <br /></td></tr>
<tr class="separator:a4d00cfbf5a23d9b5c93810868c2f359a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3feca8f3777196cc5c2d8762eba4f9ac" id="r_a3feca8f3777196cc5c2d8762eba4f9ac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a3feca8f3777196cc5c2d8762eba4f9ac">eth_send_msg</a> (uint32_t tag, <a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *msg)</td></tr>
<tr class="memdesc:a3feca8f3777196cc5c2d8762eba4f9ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an <em>SDP</em> message over the ethernet port.  <br /></td></tr>
<tr class="separator:a3feca8f3777196cc5c2d8762eba4f9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab548581320de9997f5a3af7cf8fb5a69" id="r_ab548581320de9997f5a3af7cf8fb5a69"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#ab548581320de9997f5a3af7cf8fb5a69">swap_sdp_hdr</a> (<a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *msg)</td></tr>
<tr class="memdesc:ab548581320de9997f5a3af7cf8fb5a69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swap source and destination in an SDP message header.  <br /></td></tr>
<tr class="separator:ab548581320de9997f5a3af7cf8fb5a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e03865901255c1db811e945f10c3dc2" id="r_a1e03865901255c1db811e945f10c3dc2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a1e03865901255c1db811e945f10c3dc2">return_msg</a> (<a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *msg, uint32_t rc)</td></tr>
<tr class="memdesc:a1e03865901255c1db811e945f10c3dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a message to sender, if sender asked for a response.  <br /></td></tr>
<tr class="separator:a1e03865901255c1db811e945f10c3dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf5d8e4b5243e2bf1c0108bfae8b579" id="r_aaaf5d8e4b5243e2bf1c0108bfae8b579"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#aaaf5d8e4b5243e2bf1c0108bfae8b579">route_msg</a> (<a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *msg)</td></tr>
<tr class="memdesc:aaaf5d8e4b5243e2bf1c0108bfae8b579"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route a message to its destination.  <br /></td></tr>
<tr class="separator:aaaf5d8e4b5243e2bf1c0108bfae8b579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a334e3df9be68b50d1d05dbf146144983" id="r_a334e3df9be68b50d1d05dbf146144983"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a334e3df9be68b50d1d05dbf146144983">arp_lookup</a> (<a class="el" href="bmp_8h.html#structiptag__t">iptag_t</a> *iptag)</td></tr>
<tr class="memdesc:a334e3df9be68b50d1d05dbf146144983"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request an ARP lookup.  <br /></td></tr>
<tr class="separator:a334e3df9be68b50d1d05dbf146144983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5c13d4cdb3f2f3cf09f45c8de20725" id="r_a8f5c13d4cdb3f2f3cf09f45c8de20725"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__net_8c.html#a8f5c13d4cdb3f2f3cf09f45c8de20725">eth_putc</a> (uint32_t c)</td></tr>
<tr class="memdesc:a8f5c13d4cdb3f2f3cf09f45c8de20725"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add character to ethernet-directed output stream.  <br /></td></tr>
<tr class="separator:a8f5c13d4cdb3f2f3cf09f45c8de20725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dc702ff2f89f949a4814c18174c7e40" id="r_a2dc702ff2f89f949a4814c18174c7e40"><td class="memItemLeft" align="right" valign="top"><a id="a2dc702ff2f89f949a4814c18174c7e40" name="a2dc702ff2f89f949a4814c18174c7e40"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>copy_ip_data</b> (void)</td></tr>
<tr class="memdesc:a2dc702ff2f89f949a4814c18174c7e40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy IP address data from Flash (<a class="el" href="bmp_8h.html#a2f27b597f6dcbded1cb5d85f8b2fa893" title="Address in Flash of BMP IP address.">bmp_flash_ip</a> and <a class="el" href="bmp_8h.html#a357cc2e9dd19d7a8081034458ca681eb" title="Address in Flash of SpiNNaker base IP address.">spin_flash_ip</a>) <br /></td></tr>
<tr class="separator:a2dc702ff2f89f949a4814c18174c7e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a13526e96068949bb25dfdf55c5be4117" id="r_a13526e96068949bb25dfdf55c5be4117"><td class="memItemLeft" align="right" valign="top"><a id="a13526e96068949bb25dfdf55c5be4117" name="a13526e96068949bb25dfdf55c5be4117"></a>
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>eth_buf</b> [<a class="el" href="bmp__net_8c.html#a01c960bb7a9c97f20cf104ae53df0ec2">ETHERNET_SIZE_MAX</a>]</td></tr>
<tr class="memdesc:a13526e96068949bb25dfdf55c5be4117"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer used to mediate with ethernet hardware. <br /></td></tr>
<tr class="separator:a13526e96068949bb25dfdf55c5be4117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e977bb9b9c12c178303d20281bf865" id="r_ae1e977bb9b9c12c178303d20281bf865"><td class="memItemLeft" align="right" valign="top"><a id="ae1e977bb9b9c12c178303d20281bf865" name="ae1e977bb9b9c12c178303d20281bf865"></a>
<a class="el" href="bmp_8h.html#structiptag__t">iptag_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tag_table</b> [<a class="el" href="bmp_8h.html#aa28addc3189246782e4810ed1c46e2fa">TAG_TABLE_SIZE</a>]</td></tr>
<tr class="memdesc:ae1e977bb9b9c12c178303d20281bf865"><td class="mdescLeft">&#160;</td><td class="mdescRight">The table of IPTags. <br /></td></tr>
<tr class="separator:ae1e977bb9b9c12c178303d20281bf865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15192dcaf8318f5266650892109f42e2" id="r_a15192dcaf8318f5266650892109f42e2"><td class="memItemLeft" align="right" valign="top"><a id="a15192dcaf8318f5266650892109f42e2" name="a15192dcaf8318f5266650892109f42e2"></a>
static <a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>msg_bufs</b> [<a class="el" href="bmp__net_8c.html#a8259bbeef0c598730055df66c5e7e9e5">NUM_MSGS</a>]</td></tr>
<tr class="memdesc:a15192dcaf8318f5266650892109f42e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The allocatable message buffers. <br /></td></tr>
<tr class="separator:a15192dcaf8318f5266650892109f42e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ae3bda2039d9da7e9aed9acf601012b" id="r_a4ae3bda2039d9da7e9aed9acf601012b"><td class="memItemLeft" align="right" valign="top"><a id="a4ae3bda2039d9da7e9aed9acf601012b" name="a4ae3bda2039d9da7e9aed9acf601012b"></a>
static <a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>msg_root</b></td></tr>
<tr class="memdesc:a4ae3bda2039d9da7e9aed9acf601012b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the next message to allocate. <br /></td></tr>
<tr class="separator:a4ae3bda2039d9da7e9aed9acf601012b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a019648a53352a413ea79b958a362cd" id="r_a6a019648a53352a413ea79b958a362cd"><td class="memItemLeft" align="right" valign="top"><a id="a6a019648a53352a413ea79b958a362cd" name="a6a019648a53352a413ea79b958a362cd"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>msg_count</b></td></tr>
<tr class="memdesc:a6a019648a53352a413ea79b958a362cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of allocated messages. <br /></td></tr>
<tr class="separator:a6a019648a53352a413ea79b958a362cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d6fb03ef45677cba8f3ecdaa0ba57e1" id="r_a6d6fb03ef45677cba8f3ecdaa0ba57e1"><td class="memItemLeft" align="right" valign="top"><a id="a6d6fb03ef45677cba8f3ecdaa0ba57e1" name="a6d6fb03ef45677cba8f3ecdaa0ba57e1"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>msg_max</b></td></tr>
<tr class="memdesc:a6d6fb03ef45677cba8f3ecdaa0ba57e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum value of <a class="el" href="bmp__net_8c.html#a6a019648a53352a413ea79b958a362cd" title="The number of allocated messages.">msg_count</a>. <br /></td></tr>
<tr class="separator:a6d6fb03ef45677cba8f3ecdaa0ba57e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aaacefb205c8cabac4b881b7cf7ba3e" id="r_a5aaacefb205c8cabac4b881b7cf7ba3e"><td class="memItemLeft" align="right" valign="top"><a id="a5aaacefb205c8cabac4b881b7cf7ba3e" name="a5aaacefb205c8cabac4b881b7cf7ba3e"></a>
static <a class="el" href="bmp__net_8c.html#structmsg__queue__t">msg_queue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>msg_queue</b></td></tr>
<tr class="memdesc:a5aaacefb205c8cabac4b881b7cf7ba3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The message queue. <br /></td></tr>
<tr class="separator:a5aaacefb205c8cabac4b881b7cf7ba3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867dd72755a37455a3e9f292b85552dc" id="r_a867dd72755a37455a3e9f292b85552dc"><td class="memItemLeft" align="right" valign="top"><a id="a867dd72755a37455a3e9f292b85552dc" name="a867dd72755a37455a3e9f292b85552dc"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>bc_mac</b> [] = {0xff, 0xff, 0xff, 0xff, 0xff, 0xff}</td></tr>
<tr class="memdesc:a867dd72755a37455a3e9f292b85552dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast MAC address. <br /></td></tr>
<tr class="separator:a867dd72755a37455a3e9f292b85552dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a990b5067e3d2f453fd2c1610ac70764a" id="r_a990b5067e3d2f453fd2c1610ac70764a"><td class="memItemLeft" align="right" valign="top"><a id="a990b5067e3d2f453fd2c1610ac70764a" name="a990b5067e3d2f453fd2c1610ac70764a"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>zero_mac</b> [] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00}</td></tr>
<tr class="memdesc:a990b5067e3d2f453fd2c1610ac70764a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Network MAC address. <br /></td></tr>
<tr class="separator:a990b5067e3d2f453fd2c1610ac70764a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf2ca1aeedbd5b69209623297805fa92" id="r_abf2ca1aeedbd5b69209623297805fa92"><td class="memItemLeft" align="right" valign="top"><a id="abf2ca1aeedbd5b69209623297805fa92" name="abf2ca1aeedbd5b69209623297805fa92"></a>
<a class="el" href="bmp_8h.html#structip__data__t">ip_data_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>spin_ip</b></td></tr>
<tr class="memdesc:abf2ca1aeedbd5b69209623297805fa92"><td class="mdescLeft">&#160;</td><td class="mdescRight">IP address of the board we manage. <br /></td></tr>
<tr class="separator:abf2ca1aeedbd5b69209623297805fa92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f8188a4aca98e53244010cba15b5b9" id="r_a46f8188a4aca98e53244010cba15b5b9"><td class="memItemLeft" align="right" valign="top"><a id="a46f8188a4aca98e53244010cba15b5b9" name="a46f8188a4aca98e53244010cba15b5b9"></a>
<a class="el" href="bmp_8h.html#structip__data__t">ip_data_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>bmp_ip</b></td></tr>
<tr class="memdesc:a46f8188a4aca98e53244010cba15b5b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Our own IP address. <br /></td></tr>
<tr class="separator:a46f8188a4aca98e53244010cba15b5b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050be8db8cd6f2b4f6eb82afbe6c681b" id="r_a050be8db8cd6f2b4f6eb82afbe6c681b"><td class="memItemLeft" align="right" valign="top"><a id="a050be8db8cd6f2b4f6eb82afbe6c681b" name="a050be8db8cd6f2b4f6eb82afbe6c681b"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>tag_tto</b> = 9</td></tr>
<tr class="memdesc:a050be8db8cd6f2b4f6eb82afbe6c681b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tag timeout: 2.56s = 10ms * (1 &lt;&lt; (9-1)) <br /></td></tr>
<tr class="separator:a050be8db8cd6f2b4f6eb82afbe6c681b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad17552e975a80cdfdc5470d37cc540" id="r_adad17552e975a80cdfdc5470d37cc540"><td class="memItemLeft" align="right" valign="top"><a id="adad17552e975a80cdfdc5470d37cc540" name="adad17552e975a80cdfdc5470d37cc540"></a>
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>tube_buf</b> [<a class="el" href="bmp__net_8c.html#a01c960bb7a9c97f20cf104ae53df0ec2">ETHERNET_SIZE_MAX</a>]</td></tr>
<tr class="memdesc:adad17552e975a80cdfdc5470d37cc540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulates chars to write to host. <br /></td></tr>
<tr class="separator:adad17552e975a80cdfdc5470d37cc540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed389880a40e615bf36ca5be637b420c" id="r_aed389880a40e615bf36ca5be637b420c"><td class="memItemLeft" align="right" valign="top"><a id="aed389880a40e615bf36ca5be637b420c" name="aed389880a40e615bf36ca5be637b420c"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>tube_ptr</b></td></tr>
<tr class="memdesc:aed389880a40e615bf36ca5be637b420c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Point in <a class="el" href="bmp__net_8c.html#adad17552e975a80cdfdc5470d37cc540" title="Accumulates chars to write to host.">tube_buf</a> to write. <br /></td></tr>
<tr class="separator:aed389880a40e615bf36ca5be637b420c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Networking code for BMP LPC1768. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>&copy; The University of Manchester - 2012-2015</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Steve Temple, APT Group, School of Computer Science </dd></dl>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structarp__pkt__t" id="structarp__pkt__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structarp__pkt__t">&#9670;&#160;</a></span>arp_pkt_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct arp_pkt_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>ARP packet definition. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a86111a52419bd3eb53134e61e3b64743" name="a86111a52419bd3eb53134e61e3b64743"></a><a class="el" href="bmp__net_8c.html#a07043e74a39f85c6ad5ccf81b841d720">uint16_t</a></td>
<td class="fieldname">
htype</td>
<td class="fielddoc">
Hardware address type code. </td></tr>
<tr><td class="fieldtype">
<a id="a5b90b65a68d8151b494210474d1420db" name="a5b90b65a68d8151b494210474d1420db"></a><a class="el" href="bmp__net_8c.html#a07043e74a39f85c6ad5ccf81b841d720">uint16_t</a></td>
<td class="fieldname">
ptype</td>
<td class="fielddoc">
Protocol address type code. </td></tr>
<tr><td class="fieldtype">
<a id="af5b0e570704645ccaa5baabbe3a92b14" name="af5b0e570704645ccaa5baabbe3a92b14"></a><a class="el" href="bmp__net_8c.html#a07043e74a39f85c6ad5ccf81b841d720">uint8_t</a></td>
<td class="fieldname">
hlen</td>
<td class="fielddoc">
Hardware address length. </td></tr>
<tr><td class="fieldtype">
<a id="ac8f7ee5ab110cdecdd2398c1d6500cb6" name="ac8f7ee5ab110cdecdd2398c1d6500cb6"></a><a class="el" href="bmp__net_8c.html#a07043e74a39f85c6ad5ccf81b841d720">uint8_t</a></td>
<td class="fieldname">
plen</td>
<td class="fielddoc">
Protocol address length. </td></tr>
<tr><td class="fieldtype">
<a id="a07043e74a39f85c6ad5ccf81b841d720" name="a07043e74a39f85c6ad5ccf81b841d720"></a>uint16_t</td>
<td class="fieldname">
op</td>
<td class="fielddoc">
Operation code (see <a class="el" href="bmp__net_8c.html#a23d5e7bbceeb34b737fc33d56a431881" title="ARP operations we know about.">arp_opcodes</a>) </td></tr>
<tr><td class="fieldtype">
<a id="aff8aaa62f2d03d7c8e477a87e81730fd" name="aff8aaa62f2d03d7c8e477a87e81730fd"></a><a class="el" href="bmp__net_8c.html#a07043e74a39f85c6ad5ccf81b841d720">uint8_t</a></td>
<td class="fieldname">
sha[6]</td>
<td class="fielddoc">
Source hardware address. </td></tr>
<tr><td class="fieldtype">
<a id="ae0cd009f84de6a404b656e72a7d22f27" name="ae0cd009f84de6a404b656e72a7d22f27"></a><a class="el" href="bmp__net_8c.html#a07043e74a39f85c6ad5ccf81b841d720">uint8_t</a></td>
<td class="fieldname">
spa[4]</td>
<td class="fielddoc">
Source protocol address. </td></tr>
<tr><td class="fieldtype">
<a id="a3782df0e881df416d5088fbbdb7ffda1" name="a3782df0e881df416d5088fbbdb7ffda1"></a><a class="el" href="bmp__net_8c.html#a07043e74a39f85c6ad5ccf81b841d720">uint8_t</a></td>
<td class="fieldname">
tha[6]</td>
<td class="fielddoc">
Target hardware address. </td></tr>
<tr><td class="fieldtype">
<a id="ac751c8344688c849eae2406ce6411d1f" name="ac751c8344688c849eae2406ce6411d1f"></a><a class="el" href="bmp__net_8c.html#a07043e74a39f85c6ad5ccf81b841d720">uint8_t</a></td>
<td class="fieldname">
tpa[4]</td>
<td class="fielddoc">
Target protocol address. </td></tr>
</table>

</div>
</div>
<a name="structudp__hdr__t" id="structudp__hdr__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structudp__hdr__t">&#9670;&#160;</a></span>udp_hdr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct udp_hdr_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>UDP header. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="adfaf172df28deb7d31c3c64ece5b5d1a" name="adfaf172df28deb7d31c3c64ece5b5d1a"></a>uint16_t</td>
<td class="fieldname">
srce</td>
<td class="fielddoc">
Source port. </td></tr>
<tr><td class="fieldtype">
<a id="ace9d4b2a10c2dcddf5fb5bd52c292847" name="ace9d4b2a10c2dcddf5fb5bd52c292847"></a>uint16_t</td>
<td class="fieldname">
dest</td>
<td class="fielddoc">
Destination port. </td></tr>
<tr><td class="fieldtype">
<a id="a6d187946a3bfe606584e6e379f3386ab" name="a6d187946a3bfe606584e6e379f3386ab"></a>uint16_t</td>
<td class="fieldname">
length</td>
<td class="fielddoc">
Length of UDP header and payload. </td></tr>
<tr><td class="fieldtype">
<a id="a63b4bcfb44ffb21e1ee4422fc274edab" name="a63b4bcfb44ffb21e1ee4422fc274edab"></a>uint16_t</td>
<td class="fieldname">
checksum</td>
<td class="fielddoc">
Checksum of header and data. </td></tr>
</table>

</div>
</div>
<a name="structicmp__hdr__t" id="structicmp__hdr__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structicmp__hdr__t">&#9670;&#160;</a></span>icmp_hdr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct icmp_hdr_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>ICMP header; only ECHO request and reply are supported. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a1ff905a5622b67361c235d71336ee1f3" name="a1ff905a5622b67361c235d71336ee1f3"></a>uint8_t</td>
<td class="fieldname">
type</td>
<td class="fielddoc">
ICMP message type (<a class="el" href="bmp__net_8c.html#a3f0a29ae57426692655eb0c53846e98e" title="ICMP operations we know about.">icmp_commands</a>) </td></tr>
<tr><td class="fieldtype">
<a id="ad24c88261a2ab016ca12dfaf0e8514dd" name="ad24c88261a2ab016ca12dfaf0e8514dd"></a>uint8_t</td>
<td class="fieldname">
code</td>
<td class="fielddoc">
ICMP message subtype. </td></tr>
<tr><td class="fieldtype">
<a id="a0d67de7466e3549ab44c3bf43f8cbe3c" name="a0d67de7466e3549ab44c3bf43f8cbe3c"></a>uint16_t</td>
<td class="fieldname">
checksum</td>
<td class="fielddoc">
Checksum of ICMP message. </td></tr>
<tr><td class="fieldtype">
<a id="aa9ed4d825503e13fc05f1215f1b166fe" name="aa9ed4d825503e13fc05f1215f1b166fe"></a>uint16_t</td>
<td class="fieldname">
ident</td>
<td class="fielddoc">
Identifier (for ECHO) </td></tr>
<tr><td class="fieldtype">
<a id="a357a31cd0ace7a69784bc47d55bace42" name="a357a31cd0ace7a69784bc47d55bace42"></a>uint16_t</td>
<td class="fieldname">
seq</td>
<td class="fielddoc">
Sequence number (for ECHO) </td></tr>
</table>

</div>
</div>
<a name="structmac__hdr__t" id="structmac__hdr__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structmac__hdr__t">&#9670;&#160;</a></span>mac_hdr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mac_hdr_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Ethernet packet header; will be followed by <a class="el" href="bmp__net_8c.html#structip__hdr__t" title="IP header; will be followed by udp_hdr_t or icmp_hdr_t.">ip_hdr_t</a> or <a class="el" href="bmp__net_8c.html#structarp__pkt__t" title="ARP packet definition.">arp_pkt_t</a>. </p>
<dl class="section note"><dt>Note</dt><dd>This is <em>14</em> bytes long; following data is not aligned! </dd></dl>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a18ee22ad5c0fc2a57eb9bcab1295b1b0" name="a18ee22ad5c0fc2a57eb9bcab1295b1b0"></a>uint8_t</td>
<td class="fieldname">
dest[6]</td>
<td class="fielddoc">
Destination MAC address. </td></tr>
<tr><td class="fieldtype">
<a id="a93adeeb112f95ec34743f9a439222555" name="a93adeeb112f95ec34743f9a439222555"></a>uint8_t</td>
<td class="fieldname">
srce[6]</td>
<td class="fielddoc">
Source MAC address. </td></tr>
<tr><td class="fieldtype">
<a id="a22969dee51b9be3f95501013460dfc74" name="a22969dee51b9be3f95501013460dfc74"></a>uint16_t</td>
<td class="fieldname">
type</td>
<td class="fielddoc">
Packet type (<a class="el" href="bmp__net_8c.html#a6e4fa7ebf0ed6f50966370e592907b59" title="Types of Ethernet packets we understand.">ethernet_packet_types</a>) </td></tr>
</table>

</div>
</div>
<a name="structip__hdr__t" id="structip__hdr__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structip__hdr__t">&#9670;&#160;</a></span>ip_hdr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ip_hdr_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>IP header; will be followed by <a class="el" href="bmp__net_8c.html#structudp__hdr__t" title="UDP header.">udp_hdr_t</a> or <a class="el" href="bmp__net_8c.html#structicmp__hdr__t" title="ICMP header; only ECHO request and reply are supported.">icmp_hdr_t</a>. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a00fdcf088082aaba35d7a02a7e841e21" name="a00fdcf088082aaba35d7a02a7e841e21"></a>uint8_t</td>
<td class="fieldname">
ver_len</td>
<td class="fielddoc">
Version and header length. </td></tr>
<tr><td class="fieldtype">
<a id="afa27df7f94077b5e4cc79f1c41d0b1bd" name="afa27df7f94077b5e4cc79f1c41d0b1bd"></a>uint8_t</td>
<td class="fieldname">
DS</td>
<td class="fielddoc">
Differentiated service flags. </td></tr>
<tr><td class="fieldtype">
<a id="aa2b6a7bf9951971185408772e3d1ea01" name="aa2b6a7bf9951971185408772e3d1ea01"></a>uint16_t</td>
<td class="fieldname">
length</td>
<td class="fielddoc">
Packet length. </td></tr>
<tr><td class="fieldtype">
<a id="a7f115ffe9249428b6f03745df74c78d3" name="a7f115ffe9249428b6f03745df74c78d3"></a>uint16_t</td>
<td class="fieldname">
ident</td>
<td class="fielddoc">
Packet identifier. </td></tr>
<tr><td class="fieldtype">
<a id="ae1efd75d0d23112f93d1b14baca4c83b" name="ae1efd75d0d23112f93d1b14baca4c83b"></a>uint16_t</td>
<td class="fieldname">
flg_off</td>
<td class="fielddoc">
Flags and fragment offset. </td></tr>
<tr><td class="fieldtype">
<a id="aa7b85de8baca33e1e934339215adbbb2" name="aa7b85de8baca33e1e934339215adbbb2"></a>uint8_t</td>
<td class="fieldname">
TTL</td>
<td class="fielddoc">
Time-to-live of packet. </td></tr>
<tr><td class="fieldtype">
<a id="ad876851b8ca0552ee6bd5597b6aeec45" name="ad876851b8ca0552ee6bd5597b6aeec45"></a>uint8_t</td>
<td class="fieldname">
protocol</td>
<td class="fielddoc">
Sub-protocol code (<a class="el" href="bmp__net_8c.html#ab8cab66cfbf56f6876450ed442b49b22" title="Types of IP packets we understand.">internet_protocol_packet_types</a>) </td></tr>
<tr><td class="fieldtype">
<a id="ad857bf0f4916cee2a5944f77b6489172" name="ad857bf0f4916cee2a5944f77b6489172"></a>uint16_t</td>
<td class="fieldname">
checksum</td>
<td class="fielddoc">
Header checksum. </td></tr>
<tr><td class="fieldtype">
<a id="a2dcd53cf3f16a42cb202952f3970b439" name="a2dcd53cf3f16a42cb202952f3970b439"></a>uint8_t</td>
<td class="fieldname">
srce[4]</td>
<td class="fielddoc">
Source IP address. </td></tr>
<tr><td class="fieldtype">
<a id="ad2e0ec18d6a7796368185707275f4fe9" name="ad2e0ec18d6a7796368185707275f4fe9"></a>uint8_t</td>
<td class="fieldname">
dest[4]</td>
<td class="fielddoc">
Destination IP address. </td></tr>
</table>

</div>
</div>
<a name="structmsg__queue__t" id="structmsg__queue__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structmsg__queue__t">&#9670;&#160;</a></span>msg_queue_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct msg_queue_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>The type of the message queue. This is a circular buffer. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a35cab9acd022b0b770ddf010bbc827c4" name="a35cab9acd022b0b770ddf010bbc827c4"></a>uint8_t</td>
<td class="fieldname">
insert</td>
<td class="fielddoc">
Where the next message is to be inserted. </td></tr>
<tr><td class="fieldtype">
<a id="a9fee5913ae724c25c050b189e96a6d77" name="a9fee5913ae724c25c050b189e96a6d77"></a>uint8_t</td>
<td class="fieldname">
remove</td>
<td class="fielddoc">
Where the next message is to be removed. </td></tr>
<tr><td class="fieldtype">
<a id="aaf497a2c3c03d2427c85569440509ff3" name="aaf497a2c3c03d2427c85569440509ff3"></a>volatile uint8_t</td>
<td class="fieldname">
count</td>
<td class="fielddoc">
Number of messages in the queue. </td></tr>
<tr><td class="fieldtype">
<a id="aa737b899c2685738b6b2d22cf434a5ec" name="aa737b899c2685738b6b2d22cf434a5ec"></a>uint8_t</td>
<td class="fieldname">
max</td>
<td class="fielddoc">
<p>Maximum number of messages in the queue </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a76bb7be478b961ecbf55ea3819720d6d" name="a76bb7be478b961ecbf55ea3819720d6d"></a><a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *</td>
<td class="fieldname">
queue[<a class="el" href="bmp__net_8c.html#acde82a27f94559697229d371881c4688">MSG_QUEUE_SIZE</a>]</td>
<td class="fielddoc">
The storage for the message queue. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a6e4fa7ebf0ed6f50966370e592907b59" name="a6e4fa7ebf0ed6f50966370e592907b59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e4fa7ebf0ed6f50966370e592907b59">&#9670;&#160;</a></span>ethernet_packet_types</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bmp__net_8c.html#a6e4fa7ebf0ed6f50966370e592907b59">ethernet_packet_types</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Types of Ethernet packets we understand. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6e4fa7ebf0ed6f50966370e592907b59a7190d59d73810bd1e32982732e580f75" name="a6e4fa7ebf0ed6f50966370e592907b59a7190d59d73810bd1e32982732e580f75"></a>ETYPE_IP&#160;</td><td class="fielddoc"><p>Message is an IP message. </p>
</td></tr>
<tr><td class="fieldname"><a id="a6e4fa7ebf0ed6f50966370e592907b59a6c3c81f6e328c6f491c1843e80457803" name="a6e4fa7ebf0ed6f50966370e592907b59a6c3c81f6e328c6f491c1843e80457803"></a>ETYPE_ARP&#160;</td><td class="fielddoc"><p>Message is an ARP message. </p>
</td></tr>
</table>

</div>
</div>
<a id="ab8cab66cfbf56f6876450ed442b49b22" name="ab8cab66cfbf56f6876450ed442b49b22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8cab66cfbf56f6876450ed442b49b22">&#9670;&#160;</a></span>internet_protocol_packet_types</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bmp__net_8c.html#ab8cab66cfbf56f6876450ed442b49b22">internet_protocol_packet_types</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Types of IP packets we understand. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab8cab66cfbf56f6876450ed442b49b22ac67e8dad398350acb67a621e30b32231" name="ab8cab66cfbf56f6876450ed442b49b22ac67e8dad398350acb67a621e30b32231"></a>PROT_ICMP&#160;</td><td class="fielddoc"><p>Message is an ICMP message. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab8cab66cfbf56f6876450ed442b49b22a91d72e4cf7f966740ce9edb877d47d48" name="ab8cab66cfbf56f6876450ed442b49b22a91d72e4cf7f966740ce9edb877d47d48"></a>PROT_UDP&#160;</td><td class="fielddoc"><p>Message is a UDP message. </p>
</td></tr>
</table>

</div>
</div>
<a id="a23d5e7bbceeb34b737fc33d56a431881" name="a23d5e7bbceeb34b737fc33d56a431881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23d5e7bbceeb34b737fc33d56a431881">&#9670;&#160;</a></span>arp_opcodes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bmp__net_8c.html#a23d5e7bbceeb34b737fc33d56a431881">arp_opcodes</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ARP operations we know about. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a23d5e7bbceeb34b737fc33d56a431881a0a03fee3e6fbd313c27a1eaeaadec0d0" name="a23d5e7bbceeb34b737fc33d56a431881a0a03fee3e6fbd313c27a1eaeaadec0d0"></a>ARP_REQ&#160;</td><td class="fielddoc"><p>Message is an ARP request. </p>
</td></tr>
<tr><td class="fieldname"><a id="a23d5e7bbceeb34b737fc33d56a431881a8bb24a026264a5b22435864179f874d9" name="a23d5e7bbceeb34b737fc33d56a431881a8bb24a026264a5b22435864179f874d9"></a>ARP_REPLY&#160;</td><td class="fielddoc"><p>Message is an ARP reply. </p>
</td></tr>
</table>

</div>
</div>
<a id="a3f0a29ae57426692655eb0c53846e98e" name="a3f0a29ae57426692655eb0c53846e98e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f0a29ae57426692655eb0c53846e98e">&#9670;&#160;</a></span>icmp_commands</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bmp__net_8c.html#a3f0a29ae57426692655eb0c53846e98e">icmp_commands</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ICMP operations we know about. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3f0a29ae57426692655eb0c53846e98ea040ff029e5746bdc1b9fd08db66b3b47" name="a3f0a29ae57426692655eb0c53846e98ea040ff029e5746bdc1b9fd08db66b3b47"></a>ICMP_ECHO_REPLY&#160;</td><td class="fielddoc"><p>Message is an ECHO reply. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3f0a29ae57426692655eb0c53846e98ea320cdcc66927483a6dd32aea2c1d0e1d" name="a3f0a29ae57426692655eb0c53846e98ea320cdcc66927483a6dd32aea2c1d0e1d"></a>ICMP_ECHO_REQ&#160;</td><td class="fielddoc"><p>Message is an ECHO request. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af8b5d00e6cd65caacabad3dac9dfedad" name="af8b5d00e6cd65caacabad3dac9dfedad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8b5d00e6cd65caacabad3dac9dfedad">&#9670;&#160;</a></span>msg_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> * msg_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>"Allocate" a message from the free message pool </p>
<dl class="section return"><dt>Returns</dt><dd>The message, or <code>NULL</code> if the pool is empty </dd></dl>

</div>
</div>
<a id="a6faeba1f6e2c3e00b36177b468f32e17" name="a6faeba1f6e2c3e00b36177b468f32e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6faeba1f6e2c3e00b36177b468f32e17">&#9670;&#160;</a></span>msg_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void msg_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>"Free" a message, returning it to the free message pool </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The message to free. Must not be used after this call. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c15f3010740b94a3e680d266de41cf9" name="a6c15f3010740b94a3e680d266de41cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c15f3010740b94a3e680d266de41cf9">&#9670;&#160;</a></span>msg_queue_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t msg_queue_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a message in the message queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The message to enqueue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the message was enqueued, false if the queue was full </dd></dl>

</div>
</div>
<a id="a090fcdef5c3bb3211aca917a93f8a42e" name="a090fcdef5c3bb3211aca917a93f8a42e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090fcdef5c3bb3211aca917a93f8a42e">&#9670;&#160;</a></span>msg_queue_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> * msg_queue_remove </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a message from the head of the message queue and remove it from the queue. </p>
<dl class="section return"><dt>Returns</dt><dd>the message, or <code>NULL</code> if the queue is empty </dd></dl>

</div>
</div>
<a id="a748f2a898cce4c26d61316a12a3a5459" name="a748f2a898cce4c26d61316a12a3a5459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a748f2a898cce4c26d61316a12a3a5459">&#9670;&#160;</a></span>msg_queue_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t msg_queue_size </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How big is the message queue? </p>
<dl class="section return"><dt>Returns</dt><dd>The number of messages in the queue </dd></dl>

</div>
</div>
<a id="a79be76b7d82e0ed435ce853404c2ef1e" name="a79be76b7d82e0ed435ce853404c2ef1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79be76b7d82e0ed435ce853404c2ef1e">&#9670;&#160;</a></span>ipsum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t ipsum </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute a checksum using IP rules. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">d</td><td>The buffer to compute the checksum of </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>The length of buffer in <code>d</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sum</td><td>Existing checksum value to accumulate to; use 0 for first step </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the checksum </dd></dl>

</div>
</div>
<a id="a849e30255c32352684bec03e28231cda" name="a849e30255c32352684bec03e28231cda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a849e30255c32352684bec03e28231cda">&#9670;&#160;</a></span>copy_mac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void copy_mac </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *restrict&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *restrict&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy MAC address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>Where to copy from </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">t</td><td>Where to copy to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b10ab0c99432fe3727d44ca0f4d6a15" name="a5b10ab0c99432fe3727d44ca0f4d6a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b10ab0c99432fe3727d44ca0f4d6a15">&#9670;&#160;</a></span>copy_ip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copy_ip </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *restrict&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *restrict&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy IP address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>Where to copy from </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">t</td><td>Where to copy to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7b7351ba22c52901be25c08a123e0568" name="a7b7351ba22c52901be25c08a123e0568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b7351ba22c52901be25c08a123e0568">&#9670;&#160;</a></span>cmp_ip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t cmp_ip </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare two IP addresses. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>IP address 1 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>IP address 2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if they are equal, false if they differ </dd></dl>

</div>
</div>
<a id="a7613dc82f6c30f65f0c9566c6f3e2561" name="a7613dc82f6c30f65f0c9566c6f3e2561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7613dc82f6c30f65f0c9566c6f3e2561">&#9670;&#160;</a></span>iptag_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t iptag_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a transient IPTag. </p>
<dl class="section return"><dt>Returns</dt><dd>The IPTag ID, or <a class="el" href="bmp_8h.html#a15fc8ad847508cf752f5debd1c038206" title="Invalid tag/transient request.">TAG_NONE</a> if allocation failed </dd></dl>

</div>
</div>
<a id="a87c497f5a7f826451130bf7b7fcd1d44" name="a87c497f5a7f826451130bf7b7fcd1d44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c497f5a7f826451130bf7b7fcd1d44">&#9670;&#160;</a></span>transient_tag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t transient_tag </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and initialise a transient IPTag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip</td><td>Source IP address </td></tr>
    <tr><td class="paramname">mac</td><td>Sender MAC address (probably gateway) </td></tr>
    <tr><td class="paramname">port</td><td>Sender UDP port </td></tr>
    <tr><td class="paramname">timeout</td><td>Timeout associated with IPTag (number of 10ms ticks the tag is to live for) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The IPTag ID, or <a class="el" href="bmp_8h.html#a15fc8ad847508cf752f5debd1c038206" title="Invalid tag/transient request.">TAG_NONE</a> if allocation failed </dd></dl>

</div>
</div>
<a id="a17f8f19be138e1de0b69230e13a393a4" name="a17f8f19be138e1de0b69230e13a393a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f8f19be138e1de0b69230e13a393a4">&#9670;&#160;</a></span>copy_ip_hdr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copy_ip_hdr </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>prot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bmp__net_8c.html#structip__hdr__t">ip_hdr_t</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise IP header information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>Destination IP address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prot</td><td>IP sub-protocol </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ip</td><td>Buffer holding IP header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of whole message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac58136782bad44c5cce4c16d0a00549e" name="ac58136782bad44c5cce4c16d0a00549e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac58136782bad44c5cce4c16d0a00549e">&#9670;&#160;</a></span>copy_udp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copy_udp </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>srce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise UDP header information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buf</td><td>Buffer holding whole Ethernet message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of message <em>payload</em> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>Destination UDP port </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">srce</td><td>Source UDP port </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9c68410446378b6f314f0f3c893df9c2" name="a9c68410446378b6f314f0f3c893df9c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c68410446378b6f314f0f3c893df9c2">&#9670;&#160;</a></span>eth_transmit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void eth_transmit </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send an <em>ethernet</em> packet. </p>
<p>Writes to the packet header; body must be supplied. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>The buffer holding the ethernet packet </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of whole message in <code>buf</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The message type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>The destination MAC address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a08b1c5cd8441873b62ff27bd42a8639f" name="a08b1c5cd8441873b62ff27bd42a8639f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08b1c5cd8441873b62ff27bd42a8639f">&#9670;&#160;</a></span>send_arp_pkt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void send_arp_pkt </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>tha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>tpa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send an ARP packet. </p>
<p>Writes to the packet header; body must be supplied. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>The buffer holding the ARP packet, including space for all headers </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>The destination MAC address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tha</td><td>Target hardware address (MAC) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tpa</td><td>Target protocol address (IP) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>ARP operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abefd7291f56e6ada58315a15caff9c3c" name="abefd7291f56e6ada58315a15caff9c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abefd7291f56e6ada58315a15caff9c3c">&#9670;&#160;</a></span>arp_pkt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void arp_pkt </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rx_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle a received ARP packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>The received message, including ethernet headers </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rx_len</td><td>The received length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a16d683f5a1cdf360eb3b76a7c1d85b69" name="a16d683f5a1cdf360eb3b76a7c1d85b69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16d683f5a1cdf360eb3b76a7c1d85b69">&#9670;&#160;</a></span>icmp_pkt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void icmp_pkt </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rx_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle a received ICMP packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>The received message, including ethernet headers </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rx_len</td><td>The received length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a525cfcfa6ca5673269ad2ad90ecdb5fb" name="a525cfcfa6ca5673269ad2ad90ecdb5fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525cfcfa6ca5673269ad2ad90ecdb5fb">&#9670;&#160;</a></span>udp_pkt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void udp_pkt </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rx_pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rx_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle a received UDP packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rx_pkt</td><td>The received message, including ethernet headers </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rx_len</td><td>The received length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e6a70b18b433ae903057a4e151c4ab8" name="a9e6a70b18b433ae903057a4e151c4ab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e6a70b18b433ae903057a4e151c4ab8">&#9670;&#160;</a></span>eth_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eth_receive </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive a packet off the ethernet hardware. </p>
<p>Delegates to:</p><ul>
<li><a class="el" href="bmp__net_8c.html#a525cfcfa6ca5673269ad2ad90ecdb5fb" title="Handle a received UDP packet.">udp_pkt()</a></li>
<li><a class="el" href="bmp__net_8c.html#a16d683f5a1cdf360eb3b76a7c1d85b69" title="Handle a received ICMP packet.">icmp_pkt()</a></li>
<li><a class="el" href="bmp__net_8c.html#abefd7291f56e6ada58315a15caff9c3c" title="Handle a received ARP packet.">arp_pkt()</a> </li>
</ul>

</div>
</div>
<a id="a4d00cfbf5a23d9b5c93810868c2f359a" name="a4d00cfbf5a23d9b5c93810868c2f359a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d00cfbf5a23d9b5c93810868c2f359a">&#9670;&#160;</a></span>eth_transmit2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void eth_transmit2 </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send an <em>ethernet</em> message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hdr</td><td>The ethernet + UDP headers </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>The buffer holding the message payload </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of payload in <code>buf</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>The destination MAC address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3feca8f3777196cc5c2d8762eba4f9ac" name="a3feca8f3777196cc5c2d8762eba4f9ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3feca8f3777196cc5c2d8762eba4f9ac">&#9670;&#160;</a></span>eth_send_msg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void eth_send_msg </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send an <em>SDP</em> message over the ethernet port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tag</td><td>The index of the IPTag that describes the destination </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The SDP message to send </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab548581320de9997f5a3af7cf8fb5a69" name="ab548581320de9997f5a3af7cf8fb5a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab548581320de9997f5a3af7cf8fb5a69">&#9670;&#160;</a></span>swap_sdp_hdr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void swap_sdp_hdr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Swap source and destination in an SDP message header. </p>
<p>This reflects the message so it can become its own reply </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The message to be swapped </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1e03865901255c1db811e945f10c3dc2" name="a1e03865901255c1db811e945f10c3dc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e03865901255c1db811e945f10c3dc2">&#9670;&#160;</a></span>return_msg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void return_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a message to sender, if sender asked for a response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The message to return. <em>Ownership of the message is taken!</em> Caller must not use the message after this. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rc</td><td>Response code. Non-zero indicates an error (when only header information is used). Zero is an OK response, in which case the payload and length of the message should be set correctly. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaaf5d8e4b5243e2bf1c0108bfae8b579" name="aaaf5d8e4b5243e2bf1c0108bfae8b579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaf5d8e4b5243e2bf1c0108bfae8b579">&#9670;&#160;</a></span>route_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void route_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bmp_8h.html#structsdp__msg__t">sdp_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route a message to its destination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The message to route. <em>Ownership of the message is taken!</em> Caller must not use the message after this. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a334e3df9be68b50d1d05dbf146144983" name="a334e3df9be68b50d1d05dbf146144983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a334e3df9be68b50d1d05dbf146144983">&#9670;&#160;</a></span>arp_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arp_lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bmp_8h.html#structiptag__t">iptag_t</a> *&#160;</td>
          <td class="paramname"><em>iptag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request an ARP lookup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iptag</td><td>The IPTag to do the lookup for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8f5c13d4cdb3f2f3cf09f45c8de20725" name="a8f5c13d4cdb3f2f3cf09f45c8de20725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f5c13d4cdb3f2f3cf09f45c8de20725">&#9670;&#160;</a></span>eth_putc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eth_putc </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add character to ethernet-directed output stream. </p>
<p>If the buffer is full or at end of line, push the buffer to the configured host machine. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>The character to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 28 2025 06:40:59 for spinnaker_tools (BMP) by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>

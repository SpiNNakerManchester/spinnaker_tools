<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>spinnaker_tools (BMP): bmp_ssp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">spinnaker_tools (BMP)<span id="projectnumber">&#160;latest</span>
   </div>
   <div id="projectbrief">SpiNNaker BMP firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">bmp_ssp.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Synchronous Serial Port (SSP) peripheral handling for BC&amp;MP.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;lpc17xx.h&quot;</code><br />
<code>#include &quot;lpc17xx_clkpwr.h&quot;</code><br />
<code>#include &quot;lpc17xx_ssp.h&quot;</code><br />
<code>#include &quot;<a class="el" href="bmp_8h_source.html">bmp.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a514a37131236be703279df680e2dfd02" id="r_a514a37131236be703279df680e2dfd02"><td class="memItemLeft" align="right" valign="top"><a id="a514a37131236be703279df680e2dfd02" name="a514a37131236be703279df680e2dfd02"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SSP0_CLK</b>&#160;&#160;&#160;25000000</td></tr>
<tr class="memdesc:a514a37131236be703279df680e2dfd02"><td class="mdescLeft">&#160;</td><td class="mdescRight">SSP0 clock: 25 MHz. <br /></td></tr>
<tr class="separator:a514a37131236be703279df680e2dfd02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f3fefbb47f6d012d9bb4375d4bdc611" id="r_a1f3fefbb47f6d012d9bb4375d4bdc611"><td class="memItemLeft" align="right" valign="top"><a id="a1f3fefbb47f6d012d9bb4375d4bdc611" name="a1f3fefbb47f6d012d9bb4375d4bdc611"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SSP1_CLK_H</b>&#160;&#160;&#160;25000000</td></tr>
<tr class="memdesc:a1f3fefbb47f6d012d9bb4375d4bdc611"><td class="mdescLeft">&#160;</td><td class="mdescRight">SSP1 clock: 25 MHz (fast) <br /></td></tr>
<tr class="separator:a1f3fefbb47f6d012d9bb4375d4bdc611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5586d60aa5dc556485016ca71c781a35" id="r_a5586d60aa5dc556485016ca71c781a35"><td class="memItemLeft" align="right" valign="top"><a id="a5586d60aa5dc556485016ca71c781a35" name="a5586d60aa5dc556485016ca71c781a35"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SSP1_CLK_L</b>&#160;&#160;&#160;5000000</td></tr>
<tr class="memdesc:a5586d60aa5dc556485016ca71c781a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">SSP1 clock: 5 MHz (slow) <br /></td></tr>
<tr class="separator:a5586d60aa5dc556485016ca71c781a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2d2be706bd585a859618326518bfa4fe" id="r_a2d2be706bd585a859618326518bfa4fe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__ssp_8c.html#a2d2be706bd585a859618326518bfa4fe">delay</a> (uint32_t n)</td></tr>
<tr class="memdesc:a2d2be706bd585a859618326518bfa4fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple delay (~30ns per loop?)  <br /></td></tr>
<tr class="separator:a2d2be706bd585a859618326518bfa4fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af06daf05da2f4617bb9b6431dec3374c" id="r_af06daf05da2f4617bb9b6431dec3374c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__ssp_8c.html#af06daf05da2f4617bb9b6431dec3374c">ssp1_copy</a> (uint32_t count, const uint8_t *buf)</td></tr>
<tr class="memdesc:af06daf05da2f4617bb9b6431dec3374c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy buffer to FPGAs.  <br /></td></tr>
<tr class="separator:af06daf05da2f4617bb9b6431dec3374c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4da07088db0e7469f242c8be131fb2" id="r_ade4da07088db0e7469f242c8be131fb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__ssp_8c.html#ade4da07088db0e7469f242c8be131fb2">fpga_word</a> (uint32_t addr, uint32_t fpga, uint32_t *buf, uint32_t dir)</td></tr>
<tr class="memdesc:ade4da07088db0e7469f242c8be131fb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read or write an FPGA.  <br /></td></tr>
<tr class="separator:ade4da07088db0e7469f242c8be131fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e52a905ae865d15cb6bbd0cf1bc8c9c" id="r_a6e52a905ae865d15cb6bbd0cf1bc8c9c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__ssp_8c.html#a6e52a905ae865d15cb6bbd0cf1bc8c9c">ssp0_send</a> (uint32_t d)</td></tr>
<tr class="memdesc:a6e52a905ae865d15cb6bbd0cf1bc8c9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send word to Serial Flash.  <br /></td></tr>
<tr class="separator:a6e52a905ae865d15cb6bbd0cf1bc8c9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac239fdc1d682195f9d5c3e55cf221589" id="r_ac239fdc1d682195f9d5c3e55cf221589"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__ssp_8c.html#ac239fdc1d682195f9d5c3e55cf221589">ssp0_write</a> (uint32_t cmd, uint32_t addr, uint32_t len, const uint8_t *buf)</td></tr>
<tr class="memdesc:ac239fdc1d682195f9d5c3e55cf221589"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write buffer to Serial Flash.  <br /></td></tr>
<tr class="separator:ac239fdc1d682195f9d5c3e55cf221589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de37c9a101df27c50b3264dced272cc" id="r_a9de37c9a101df27c50b3264dced272cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__ssp_8c.html#a9de37c9a101df27c50b3264dced272cc">ssp0_read</a> (uint32_t cmd, uint32_t addr, uint32_t len, uint8_t *buf)</td></tr>
<tr class="memdesc:a9de37c9a101df27c50b3264dced272cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read buffer from Serial Flash.  <br /></td></tr>
<tr class="separator:a9de37c9a101df27c50b3264dced272cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a026f50afc442c0ace04e06dad6d3a597" id="r_a026f50afc442c0ace04e06dad6d3a597"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__ssp_8c.html#a026f50afc442c0ace04e06dad6d3a597">ssp0_copy</a> (uint32_t addr, uint32_t len)</td></tr>
<tr class="memdesc:a026f50afc442c0ace04e06dad6d3a597"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy from Serial Flash on SSP0 to FPGA(s) on SSP1.  <br /></td></tr>
<tr class="separator:a026f50afc442c0ace04e06dad6d3a597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a091d53d550b5f267ae443523fc2dc434" id="r_a091d53d550b5f267ae443523fc2dc434"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__ssp_8c.html#a091d53d550b5f267ae443523fc2dc434">sf_write</a> (uint32_t addr, uint32_t len, const uint8_t *buf)</td></tr>
<tr class="memdesc:a091d53d550b5f267ae443523fc2dc434"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to flash.  <br /></td></tr>
<tr class="separator:a091d53d550b5f267ae443523fc2dc434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05f97064771781608fc65a519e5a67d5" id="r_a05f97064771781608fc65a519e5a67d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__ssp_8c.html#a05f97064771781608fc65a519e5a67d5">sf_read</a> (uint32_t addr, uint32_t len, uint8_t *buf)</td></tr>
<tr class="memdesc:a05f97064771781608fc65a519e5a67d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from flash.  <br /></td></tr>
<tr class="separator:a05f97064771781608fc65a519e5a67d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16272f1c74f5463cac8c6d4e91d16b7c" id="r_a16272f1c74f5463cac8c6d4e91d16b7c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp__ssp_8c.html#a16272f1c74f5463cac8c6d4e91d16b7c">sf_crc32</a> (uint32_t addr, uint32_t len)</td></tr>
<tr class="memdesc:a16272f1c74f5463cac8c6d4e91d16b7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute CRC of data on flash.  <br /></td></tr>
<tr class="separator:a16272f1c74f5463cac8c6d4e91d16b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadeb846da660c3c89cc77e57711ebd18" id="r_aadeb846da660c3c89cc77e57711ebd18"><td class="memItemLeft" align="right" valign="top"><a id="aadeb846da660c3c89cc77e57711ebd18" name="aadeb846da660c3c89cc77e57711ebd18"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ssp1_slow</b> (void)</td></tr>
<tr class="memdesc:aadeb846da660c3c89cc77e57711ebd18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure SSP1 to be slow. <br /></td></tr>
<tr class="separator:aadeb846da660c3c89cc77e57711ebd18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b1ecbfcbc5009ddea2fc946e8b118f" id="r_ab4b1ecbfcbc5009ddea2fc946e8b118f"><td class="memItemLeft" align="right" valign="top"><a id="ab4b1ecbfcbc5009ddea2fc946e8b118f" name="ab4b1ecbfcbc5009ddea2fc946e8b118f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ssp1_fast</b> (void)</td></tr>
<tr class="memdesc:ab4b1ecbfcbc5009ddea2fc946e8b118f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure SSP1 to be fast. <br /></td></tr>
<tr class="separator:ab4b1ecbfcbc5009ddea2fc946e8b118f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980a689534b7b65b88ee5402a2c9e386" id="r_a980a689534b7b65b88ee5402a2c9e386"><td class="memItemLeft" align="right" valign="top"><a id="a980a689534b7b65b88ee5402a2c9e386" name="a980a689534b7b65b88ee5402a2c9e386"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>configure_ssp</b> (void)</td></tr>
<tr class="memdesc:a980a689534b7b65b88ee5402a2c9e386"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure SSP (serial flash, FPGAs) <br /></td></tr>
<tr class="separator:a980a689534b7b65b88ee5402a2c9e386"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Synchronous Serial Port (SSP) peripheral handling for BC&amp;MP. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>&copy; The University of Manchester - 2012-2015</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Steve Temple, APT Group, School of Computer Science</dd></dl>
<p>SSP1 is connected to the FPGAs and is used to load their bitmaps. It can also be used to communicate with the FPGAs when the FPGA code supports this function.</p>
<p>SSP0 is connected to a serial Flash device which currently holds two areas of data. The area at 0 is the SpiNNaker IP address block which is read by the root chip when it is reset. A buffer and software multiplexer dual-port the serial Flash. It can currently only be written by the BMP. The second area holds the FPGA bitmap and starts at 0x10000. This is loaded whenever power is applied to the FPGAs </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2d2be706bd585a859618326518bfa4fe" name="a2d2be706bd585a859618326518bfa4fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d2be706bd585a859618326518bfa4fe">&#9670;&#160;</a></span>delay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void delay </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simple delay (~30ns per loop?) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Number of times to loop </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af06daf05da2f4617bb9b6431dec3374c" name="af06daf05da2f4617bb9b6431dec3374c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af06daf05da2f4617bb9b6431dec3374c">&#9670;&#160;</a></span>ssp1_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssp1_copy </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy buffer to FPGAs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>Number of bytes in <code>buf</code> to copy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Buffer containing data to copy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ade4da07088db0e7469f242c8be131fb2" name="ade4da07088db0e7469f242c8be131fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade4da07088db0e7469f242c8be131fb2">&#9670;&#160;</a></span>fpga_word()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fpga_word </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>fpga</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read or write an FPGA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Where on the FPGA to access </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fpga</td><td>Which FPGA to access </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buf</td><td>Buffer; contains word to write to FPGA, or is location to put word read from FPGA </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>Reading (<a class="el" href="bmp_8h.html#a8e8ad360780f2a1d4af6a9c23742ef32ace58a9600692472c183c37bbc19981de" title="Read from FPGA.">FPGA_READ</a>) or writing (<a class="el" href="bmp_8h.html#a8e8ad360780f2a1d4af6a9c23742ef32aecff165cc96f653d1227957d43630f72" title="Write to FPGA.">FPGA_WRITE</a>) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e52a905ae865d15cb6bbd0cf1bc8c9c" name="a6e52a905ae865d15cb6bbd0cf1bc8c9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e52a905ae865d15cb6bbd0cf1bc8c9c">&#9670;&#160;</a></span>ssp0_send()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ssp0_send </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send word to Serial Flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">d</td><td>Word to send </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac239fdc1d682195f9d5c3e55cf221589" name="ac239fdc1d682195f9d5c3e55cf221589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac239fdc1d682195f9d5c3e55cf221589">&#9670;&#160;</a></span>ssp0_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssp0_write </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write buffer to Serial Flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>Command for SSP0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Where to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>How many bytes to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Buffer of bytes to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9de37c9a101df27c50b3264dced272cc" name="a9de37c9a101df27c50b3264dced272cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9de37c9a101df27c50b3264dced272cc">&#9670;&#160;</a></span>ssp0_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssp0_read </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read buffer from Serial Flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>Command for SSP0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Where to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>How many bytes to read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Buffer to receive read bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a026f50afc442c0ace04e06dad6d3a597" name="a026f50afc442c0ace04e06dad6d3a597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a026f50afc442c0ace04e06dad6d3a597">&#9670;&#160;</a></span>ssp0_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssp0_copy </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy from Serial Flash on SSP0 to FPGA(s) on SSP1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Address of data to move (same address used for all) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of data to move </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a091d53d550b5f267ae443523fc2dc434" name="a091d53d550b5f267ae443523fc2dc434"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a091d53d550b5f267ae443523fc2dc434">&#9670;&#160;</a></span>sf_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sf_write </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write to flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Where to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>How many bytes to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>The data to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a05f97064771781608fc65a519e5a67d5" name="a05f97064771781608fc65a519e5a67d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05f97064771781608fc65a519e5a67d5">&#9670;&#160;</a></span>sf_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sf_read </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read from flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Where to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>How many bytes to read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>The buffer receiving the data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a16272f1c74f5463cac8c6d4e91d16b7c" name="a16272f1c74f5463cac8c6d4e91d16b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16272f1c74f5463cac8c6d4e91d16b7c">&#9670;&#160;</a></span>sf_crc32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t sf_crc32 </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute CRC of data on flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Where the data is </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>The length of the data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CRC of the data </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 17 2025 12:10:05 for spinnaker_tools (BMP) by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
